2025-05-15 15:52:30,821 - INFO - Template intro caricato con successo
2025-05-15 15:52:30,821 - INFO - Template contatti caricato con successo
2025-05-15 15:52:30,821 - INFO - Template alloggi caricato con successo
2025-05-15 15:52:30,821 - INFO - Template noleggi caricato con successo
2025-05-15 15:52:30,821 - INFO - Template naturalistico caricato con successo
2025-05-15 15:52:30,821 - INFO - Template avventura caricato con successo
2025-05-15 15:52:30,833 - INFO - Template montagna caricato con successo
2025-05-15 15:52:30,835 - INFO - Template mare caricato con successo
2025-05-15 15:52:30,836 - INFO - Template gastronomia caricato con successo
2025-05-15 15:52:30,836 - INFO - Template citta_arte caricato con successo
2025-05-15 15:52:30,839 - INFO - Template benessere caricato con successo
2025-05-15 15:52:30,839 - INFO - Tutti i template sono stati caricati
2025-05-15 15:52:30,840 - INFO - Sequenza iniziale dei template: ['intro', 'contatti']
2025-05-15 15:53:21,010 - INFO - Ricevuta richiesta extract_simple con testo: qwer
2025-05-15 15:53:21,010 - INFO - Template attivo: intro
2025-05-15 15:53:21,447 - INFO - vision_select_layer: -1
2025-05-15 15:53:21,447 - INFO - ps_version: v2
2025-05-15 15:53:21,447 - INFO - min_dynamic_patch: 1
2025-05-15 15:53:21,447 - INFO - max_dynamic_patch: 12
2025-05-15 15:53:24,213 - INFO - num_image_token: 256
2025-05-15 15:53:24,213 - INFO - ps_version: v2
2025-05-15 15:53:43,993 - INFO - Template modificato: False
2025-05-15 15:53:44,025 - WARNING - Errori nel template intro: ['La destinazione generica è obbligatoria']
2025-05-15 15:55:52,981 - INFO - Template intro caricato con successo
2025-05-15 15:55:52,982 - INFO - Template contatti caricato con successo
2025-05-15 15:55:52,983 - INFO - Template alloggi caricato con successo
2025-05-15 15:55:52,986 - INFO - Template noleggi caricato con successo
2025-05-15 15:55:52,987 - INFO - Template naturalistico caricato con successo
2025-05-15 15:55:52,987 - INFO - Template avventura caricato con successo
2025-05-15 15:55:52,988 - INFO - Template montagna caricato con successo
2025-05-15 15:55:52,990 - INFO - Template mare caricato con successo
2025-05-15 15:55:52,991 - INFO - Template gastronomia caricato con successo
2025-05-15 15:55:52,991 - INFO - Template citta_arte caricato con successo
2025-05-15 15:55:52,992 - INFO - Template benessere caricato con successo
2025-05-15 15:55:52,992 - INFO - Tutti i template sono stati caricati
2025-05-15 15:55:52,993 - INFO - Sequenza iniziale dei template: ['intro', 'contatti']
2025-05-15 15:56:43,783 - INFO - Ricevuta richiesta extract_simple con testo: qwert
2025-05-15 15:56:43,783 - INFO - Template attivo: intro
2025-05-15 15:56:44,133 - INFO - vision_select_layer: -1
2025-05-15 15:56:44,133 - INFO - ps_version: v2
2025-05-15 15:56:44,133 - INFO - min_dynamic_patch: 1
2025-05-15 15:56:44,133 - INFO - max_dynamic_patch: 12
2025-05-15 15:56:45,666 - INFO - num_image_token: 256
2025-05-15 15:56:45,666 - INFO - ps_version: v2
2025-05-15 15:57:00,047 - INFO - Template modificato: False
2025-05-15 15:57:00,047 - WARNING - Errori nel template intro: ['La destinazione generica è obbligatoria']
2025-05-15 15:57:02,184 - INFO - Risposta ottenuta da Ollama: Errore nella comunicazione con Ollama: 404
2025-05-15 15:57:02,185 - INFO - Risposta preparata con successo
2025-05-15 15:58:03,363 - INFO - Template intro caricato con successo
2025-05-15 15:58:03,363 - INFO - Template contatti caricato con successo
2025-05-15 15:58:03,363 - INFO - Template alloggi caricato con successo
2025-05-15 15:58:03,363 - INFO - Template noleggi caricato con successo
2025-05-15 15:58:03,363 - INFO - Template naturalistico caricato con successo
2025-05-15 15:58:03,363 - INFO - Template avventura caricato con successo
2025-05-15 15:58:03,363 - INFO - Template montagna caricato con successo
2025-05-15 15:58:03,363 - INFO - Template mare caricato con successo
2025-05-15 15:58:03,363 - INFO - Template gastronomia caricato con successo
2025-05-15 15:58:03,378 - INFO - Template citta_arte caricato con successo
2025-05-15 15:58:03,390 - INFO - Template benessere caricato con successo
2025-05-15 15:58:03,390 - INFO - Tutti i template sono stati caricati
2025-05-15 15:58:03,390 - INFO - Sequenza iniziale dei template: ['intro', 'contatti']
2025-05-15 15:59:21,183 - INFO - Template intro caricato con successo
2025-05-15 15:59:21,183 - INFO - Template contatti caricato con successo
2025-05-15 15:59:21,183 - INFO - Template alloggi caricato con successo
2025-05-15 15:59:21,183 - INFO - Template noleggi caricato con successo
2025-05-15 15:59:21,183 - INFO - Template naturalistico caricato con successo
2025-05-15 15:59:21,183 - INFO - Template avventura caricato con successo
2025-05-15 15:59:21,183 - INFO - Template montagna caricato con successo
2025-05-15 15:59:21,183 - INFO - Template mare caricato con successo
2025-05-15 15:59:21,183 - INFO - Template gastronomia caricato con successo
2025-05-15 15:59:21,183 - INFO - Template citta_arte caricato con successo
2025-05-15 15:59:21,183 - INFO - Template benessere caricato con successo
2025-05-15 15:59:21,183 - INFO - Tutti i template sono stati caricati
2025-05-15 15:59:21,183 - INFO - Sequenza iniziale dei template: ['intro', 'contatti']
2025-05-15 15:59:52,819 - INFO - Ricevuta richiesta extract_simple con testo: qwert
2025-05-15 15:59:52,819 - INFO - Template attivo: intro
2025-05-15 15:59:53,179 - INFO - vision_select_layer: -1
2025-05-15 15:59:53,179 - INFO - ps_version: v2
2025-05-15 15:59:53,179 - INFO - min_dynamic_patch: 1
2025-05-15 15:59:53,179 - INFO - max_dynamic_patch: 12
2025-05-15 15:59:54,869 - INFO - num_image_token: 256
2025-05-15 15:59:54,869 - INFO - ps_version: v2
2025-05-15 16:00:09,240 - INFO - Template modificato: False
2025-05-15 16:00:09,242 - WARNING - Errori nel template intro: ['La destinazione generica è obbligatoria']
2025-05-15 16:01:33,569 - INFO - Risposta ottenuta da Ollama: Great job! Now that all the fields have been completed, you can submit your form and we'll get started on processing it. If you have any questions or need further assistance, please don't hesitate to ask.
2025-05-15 16:01:33,933 - INFO - Risposta preparata con successo
2025-05-15 16:07:48,314 - INFO - Template intro caricato con successo
2025-05-15 16:07:48,314 - INFO - Template contatti caricato con successo
2025-05-15 16:07:48,329 - INFO - Template alloggi caricato con successo
2025-05-15 16:07:48,330 - INFO - Template noleggi caricato con successo
2025-05-15 16:07:48,332 - INFO - Template naturalistico caricato con successo
2025-05-15 16:07:48,334 - INFO - Template avventura caricato con successo
2025-05-15 16:07:48,335 - INFO - Template montagna caricato con successo
2025-05-15 16:07:48,336 - INFO - Template mare caricato con successo
2025-05-15 16:07:48,338 - INFO - Template gastronomia caricato con successo
2025-05-15 16:07:48,338 - INFO - Template citta_arte caricato con successo
2025-05-15 16:07:48,339 - INFO - Template benessere caricato con successo
2025-05-15 16:07:48,340 - INFO - Tutti i template sono stati caricati
2025-05-15 16:07:48,340 - INFO - Sequenza iniziale dei template: ['intro', 'contatti']
2025-05-15 16:08:22,592 - INFO - Ricevuta richiesta extract_simple con testo: vorrei viaggiare per l'Itaglia 
2025-05-15 16:08:22,592 - INFO - Template attivo: intro
2025-05-15 16:08:22,962 - INFO - vision_select_layer: -1
2025-05-15 16:08:22,962 - INFO - ps_version: v2
2025-05-15 16:08:22,962 - INFO - min_dynamic_patch: 1
2025-05-15 16:08:22,962 - INFO - max_dynamic_patch: 12
2025-05-15 16:08:24,232 - INFO - num_image_token: 256
2025-05-15 16:08:24,232 - INFO - ps_version: v2
2025-05-15 16:08:38,022 - INFO - Template modificato: False
2025-05-15 16:08:38,022 - WARNING - Errori nel template intro: ['La destinazione generica è obbligatoria']
2025-05-15 16:10:37,665 - INFO - Risposta ottenuta da Ollama: Great! Now that all the fields have been filled out, it's time to review and submit the form. Please double-check all the information you provided to ensure it is accurate and complete. Once you are satisfied with the information, you can submit the form by clicking on the "Submit" button. If you need to make any changes or corrections, simply go back to the relevant field and update the information. Remember to save your progress regularly to avoid losing any changes.
2025-05-15 16:10:37,690 - INFO - Risposta preparata con successo
2025-05-15 16:26:27,862 - INFO - Template intro caricato con successo
2025-05-15 16:26:27,863 - INFO - Template contatti caricato con successo
2025-05-15 16:26:27,864 - INFO - Template alloggi caricato con successo
2025-05-15 16:26:27,865 - INFO - Template noleggi caricato con successo
2025-05-15 16:26:27,865 - INFO - Template naturalistico caricato con successo
2025-05-15 16:26:27,866 - INFO - Template avventura caricato con successo
2025-05-15 16:26:27,867 - INFO - Template montagna caricato con successo
2025-05-15 16:26:27,868 - INFO - Template mare caricato con successo
2025-05-15 16:26:27,868 - INFO - Template gastronomia caricato con successo
2025-05-15 16:26:27,869 - INFO - Template citta_arte caricato con successo
2025-05-15 16:26:27,870 - INFO - Template benessere caricato con successo
2025-05-15 16:26:27,870 - INFO - Tutti i template sono stati caricati
2025-05-15 16:26:27,871 - INFO - Sequenza iniziale dei template: ['intro', 'contatti']
2025-05-15 16:26:42,287 - INFO - Template intro caricato con successo
2025-05-15 16:26:42,287 - INFO - Template contatti caricato con successo
2025-05-15 16:26:42,289 - INFO - Template alloggi caricato con successo
2025-05-15 16:26:42,290 - INFO - Template noleggi caricato con successo
2025-05-15 16:26:42,290 - INFO - Template naturalistico caricato con successo
2025-05-15 16:26:42,290 - INFO - Template avventura caricato con successo
2025-05-15 16:26:42,290 - INFO - Template montagna caricato con successo
2025-05-15 16:26:42,290 - INFO - Template mare caricato con successo
2025-05-15 16:26:42,290 - INFO - Template gastronomia caricato con successo
2025-05-15 16:26:42,290 - INFO - Template citta_arte caricato con successo
2025-05-15 16:26:42,290 - INFO - Template benessere caricato con successo
2025-05-15 16:26:42,290 - INFO - Tutti i template sono stati caricati
2025-05-15 16:26:42,290 - INFO - Sequenza iniziale dei template: ['intro', 'contatti']
2025-05-15 16:29:09,828 - INFO - Template intro caricato con successo
2025-05-15 16:29:09,828 - INFO - Template contatti caricato con successo
2025-05-15 16:29:09,828 - INFO - Template alloggi caricato con successo
2025-05-15 16:29:09,828 - INFO - Template noleggi caricato con successo
2025-05-15 16:29:09,828 - INFO - Template naturalistico caricato con successo
2025-05-15 16:29:09,828 - INFO - Template avventura caricato con successo
2025-05-15 16:29:09,828 - INFO - Template montagna caricato con successo
2025-05-15 16:29:09,828 - INFO - Template mare caricato con successo
2025-05-15 16:29:09,828 - INFO - Template gastronomia caricato con successo
2025-05-15 16:29:09,828 - INFO - Template citta_arte caricato con successo
2025-05-15 16:29:09,828 - INFO - Template benessere caricato con successo
2025-05-15 16:29:09,828 - INFO - Tutti i template sono stati caricati
2025-05-15 16:29:09,828 - INFO - Sequenza iniziale dei template: ['intro', 'contatti']
2025-05-15 16:29:29,254 - INFO - Template intro caricato con successo
2025-05-15 16:29:29,254 - INFO - Template contatti caricato con successo
2025-05-15 16:29:29,254 - INFO - Template alloggi caricato con successo
2025-05-15 16:29:29,254 - INFO - Template noleggi caricato con successo
2025-05-15 16:29:29,254 - INFO - Template naturalistico caricato con successo
2025-05-15 16:29:29,254 - INFO - Template avventura caricato con successo
2025-05-15 16:29:29,254 - INFO - Template montagna caricato con successo
2025-05-15 16:29:29,254 - INFO - Template mare caricato con successo
2025-05-15 16:29:29,254 - INFO - Template gastronomia caricato con successo
2025-05-15 16:29:29,254 - INFO - Template citta_arte caricato con successo
2025-05-15 16:29:29,254 - INFO - Template benessere caricato con successo
2025-05-15 16:29:29,254 - INFO - Tutti i template sono stati caricati
2025-05-15 16:29:29,254 - INFO - Sequenza iniziale dei template: ['intro', 'contatti']
2025-05-15 16:33:31,139 - INFO - Richiesta debug_stato
2025-05-15 16:33:47,459 - INFO - Template intro caricato con successo
2025-05-15 16:33:47,459 - INFO - Template contatti caricato con successo
2025-05-15 16:33:47,459 - INFO - Template alloggi caricato con successo
2025-05-15 16:33:47,459 - INFO - Template noleggi caricato con successo
2025-05-15 16:33:47,459 - INFO - Template naturalistico caricato con successo
2025-05-15 16:33:47,459 - INFO - Template avventura caricato con successo
2025-05-15 16:33:47,459 - INFO - Template montagna caricato con successo
2025-05-15 16:33:47,459 - INFO - Template mare caricato con successo
2025-05-15 16:33:47,459 - INFO - Template gastronomia caricato con successo
2025-05-15 16:33:47,459 - INFO - Template citta_arte caricato con successo
2025-05-15 16:33:47,459 - INFO - Template benessere caricato con successo
2025-05-15 16:33:47,459 - INFO - Tutti i template sono stati caricati
2025-05-15 16:33:47,465 - INFO - Sequenza iniziale dei template: ['intro', 'contatti']
2025-05-15 16:33:47,478 - INFO - Richiesta debug_stato
2025-05-15 16:33:53,265 - INFO - Richiesta debug_stato
2025-05-15 16:39:29,983 - INFO - Ricevuta richiesta extract_simple con testo: qwert
2025-05-15 16:39:29,983 - INFO - Template attivo: intro
2025-05-15 16:39:30,351 - INFO - vision_select_layer: -1
2025-05-15 16:39:30,351 - INFO - ps_version: v2
2025-05-15 16:39:30,351 - INFO - min_dynamic_patch: 1
2025-05-15 16:39:30,351 - INFO - max_dynamic_patch: 12
2025-05-15 16:39:31,681 - INFO - num_image_token: 256
2025-05-15 16:39:31,681 - INFO - ps_version: v2
2025-05-15 16:39:48,931 - INFO - Template modificato: False
2025-05-15 16:39:48,941 - WARNING - Errori nel template intro: ['La destinazione generica è obbligatoria']
2025-05-15 16:40:18,103 - INFO - Risposta preparata con successo
2025-05-15 16:42:49,405 - INFO - Richiesta debug_stato
2025-05-15 16:44:51,365 - INFO - Template intro caricato con successo
2025-05-15 16:44:51,365 - INFO - Template contatti caricato con successo
2025-05-15 16:44:51,365 - INFO - Template alloggi caricato con successo
2025-05-15 16:44:51,365 - INFO - Template noleggi caricato con successo
2025-05-15 16:44:51,365 - INFO - Template naturalistico caricato con successo
2025-05-15 16:44:51,365 - INFO - Template avventura caricato con successo
2025-05-15 16:44:51,365 - INFO - Template montagna caricato con successo
2025-05-15 16:44:51,365 - INFO - Template mare caricato con successo
2025-05-15 16:44:51,365 - INFO - Template gastronomia caricato con successo
2025-05-15 16:44:51,365 - INFO - Template citta_arte caricato con successo
2025-05-15 16:44:51,365 - INFO - Template benessere caricato con successo
2025-05-15 16:44:51,365 - INFO - Tutti i template sono stati caricati
2025-05-15 16:44:51,365 - INFO - Sequenza iniziale dei template: ['intro', 'contatti']
2025-05-15 16:49:23,070 - INFO - Ricevuta richiesta extract_simple con testo: vorrei visitare l'Italia 
2025-05-15 16:49:23,070 - INFO - Template attivo: intro
2025-05-15 16:49:23,419 - INFO - vision_select_layer: -1
2025-05-15 16:49:23,419 - INFO - ps_version: v2
2025-05-15 16:49:23,421 - INFO - min_dynamic_patch: 1
2025-05-15 16:49:23,421 - INFO - max_dynamic_patch: 12
2025-05-15 16:49:24,596 - INFO - num_image_token: 256
2025-05-15 16:49:24,596 - INFO - ps_version: v2
2025-05-15 16:49:40,179 - INFO - Template modificato: False
2025-05-15 16:49:40,181 - WARNING - Errori nel template intro: ['La destinazione generica è obbligatoria']
2025-05-15 16:49:40,181 - INFO - Frase guida inviata ad Ollama: Tutti i campi sono stati compilati.
2025-05-15 16:49:55,937 - INFO - Risposta ottenuta da Ollama: <think>
Okay, the user wrote "Tutti i campi sono stati compilati." which means "All fields have been filled out." I need to respond in Italian. Let me check the context. They might be confirming that all required information was provided. I should acknowledge their confirmation and offer further assistance. Keep it friendly and open-ended. Maybe say something like, "Grazie per aver compilato tutti i campi. Se hai bisogno di aiuto, non esitare a chiedere." That sounds natural and helpful.
</think>

Grazie per aver compilato tutti i campi. Se hai bisogno di aiuto, non esitare a chiedere!
2025-05-15 16:49:55,938 - INFO - Risposta preparata con successo
2025-05-15 16:54:21,326 - INFO - Template intro caricato con successo
2025-05-15 16:54:21,326 - INFO - Template contatti caricato con successo
2025-05-15 16:54:21,330 - INFO - Template alloggi caricato con successo
2025-05-15 16:54:21,331 - INFO - Template noleggi caricato con successo
2025-05-15 16:54:21,332 - INFO - Template naturalistico caricato con successo
2025-05-15 16:54:21,333 - INFO - Template avventura caricato con successo
2025-05-15 16:54:21,334 - INFO - Template montagna caricato con successo
2025-05-15 16:54:21,335 - INFO - Template mare caricato con successo
2025-05-15 16:54:21,336 - INFO - Template gastronomia caricato con successo
2025-05-15 16:54:21,337 - INFO - Template citta_arte caricato con successo
2025-05-15 16:54:21,339 - INFO - Template benessere caricato con successo
2025-05-15 16:54:21,340 - INFO - Tutti i template sono stati caricati
2025-05-15 16:54:21,340 - INFO - Sequenza iniziale dei template: ['intro', 'contatti']
2025-05-15 22:08:02,908 - INFO - Template intro caricato con successo
2025-05-15 22:08:02,908 - INFO - Template contatti caricato con successo
2025-05-15 22:08:02,908 - INFO - Template alloggi caricato con successo
2025-05-15 22:08:02,908 - INFO - Template noleggi caricato con successo
2025-05-15 22:08:02,908 - INFO - Template naturalistico caricato con successo
2025-05-15 22:08:02,908 - INFO - Template avventura caricato con successo
2025-05-15 22:08:02,908 - INFO - Template montagna caricato con successo
2025-05-15 22:08:02,908 - INFO - Template mare caricato con successo
2025-05-15 22:08:02,908 - INFO - Template gastronomia caricato con successo
2025-05-15 22:08:02,908 - INFO - Template citta_arte caricato con successo
2025-05-15 22:08:02,908 - INFO - Template benessere caricato con successo
2025-05-15 22:08:02,908 - INFO - Tutti i template sono stati caricati
2025-05-15 22:08:02,908 - INFO - Sequenza iniziale dei template: ['intro', 'contatti']
2025-05-15 22:09:36,808 - INFO - Template intro caricato con successo
2025-05-15 22:09:36,809 - INFO - Template contatti caricato con successo
2025-05-15 22:09:36,809 - INFO - Template alloggi caricato con successo
2025-05-15 22:09:36,810 - INFO - Template noleggi caricato con successo
2025-05-15 22:09:36,810 - INFO - Template naturalistico caricato con successo
2025-05-15 22:09:36,811 - INFO - Template avventura caricato con successo
2025-05-15 22:09:36,811 - INFO - Template montagna caricato con successo
2025-05-15 22:09:36,811 - INFO - Template mare caricato con successo
2025-05-15 22:09:36,812 - INFO - Template gastronomia caricato con successo
2025-05-15 22:09:36,812 - INFO - Template citta_arte caricato con successo
2025-05-15 22:09:36,813 - INFO - Template benessere caricato con successo
2025-05-15 22:09:36,813 - INFO - Tutti i template sono stati caricati
2025-05-15 22:09:36,813 - INFO - Sequenza iniziale dei template: ['intro', 'contatti']
2025-05-15 22:10:07,251 - INFO - Ricevuta richiesta extract_simple con testo: qwer
2025-05-15 22:10:07,251 - INFO - Template attivo: intro
2025-05-15 22:10:07,727 - INFO - vision_select_layer: -1
2025-05-15 22:10:07,728 - INFO - ps_version: v2
2025-05-15 22:10:07,728 - INFO - min_dynamic_patch: 1
2025-05-15 22:10:07,728 - INFO - max_dynamic_patch: 12
2025-05-15 22:10:10,536 - INFO - num_image_token: 256
2025-05-15 22:10:10,536 - INFO - ps_version: v2
2025-05-15 22:10:41,149 - INFO - Template modificato: False
2025-05-15 22:10:41,250 - WARNING - Errori nel template intro: ['La destinazione generica è obbligatoria']
2025-05-15 22:10:41,253 - INFO - Frase guida inviata ad Ollama: Tutti i campi sono stati compilati.
2025-05-15 22:10:41,254 - INFO - Template aggiornato: {}
2025-05-15 22:11:07,517 - INFO - Risposta preparata con successo
2025-05-15 22:13:39,505 - INFO - Template intro caricato con successo
2025-05-15 22:13:39,505 - INFO - Template contatti caricato con successo
2025-05-15 22:13:39,505 - INFO - Template alloggi caricato con successo
2025-05-15 22:13:39,512 - INFO - Template noleggi caricato con successo
2025-05-15 22:13:39,512 - INFO - Template naturalistico caricato con successo
2025-05-15 22:13:39,512 - INFO - Template avventura caricato con successo
2025-05-15 22:13:39,512 - INFO - Template montagna caricato con successo
2025-05-15 22:13:39,517 - INFO - Template mare caricato con successo
2025-05-15 22:13:39,518 - INFO - Template gastronomia caricato con successo
2025-05-15 22:13:39,518 - INFO - Template citta_arte caricato con successo
2025-05-15 22:13:39,519 - INFO - Template benessere caricato con successo
2025-05-15 22:13:39,520 - INFO - Tutti i template sono stati caricati
2025-05-15 22:13:39,520 - INFO - Sequenza iniziale dei template: ['intro', 'contatti']
2025-05-15 22:14:27,737 - INFO - Template intro caricato con successo
2025-05-15 22:14:27,738 - INFO - Template contatti caricato con successo
2025-05-15 22:14:27,739 - INFO - Template alloggi caricato con successo
2025-05-15 22:14:27,739 - INFO - Template noleggi caricato con successo
2025-05-15 22:14:27,740 - INFO - Template naturalistico caricato con successo
2025-05-15 22:14:27,740 - INFO - Template avventura caricato con successo
2025-05-15 22:14:27,741 - INFO - Template montagna caricato con successo
2025-05-15 22:14:27,741 - INFO - Template mare caricato con successo
2025-05-15 22:14:27,741 - INFO - Template gastronomia caricato con successo
2025-05-15 22:14:27,742 - INFO - Template citta_arte caricato con successo
2025-05-15 22:14:27,742 - INFO - Template benessere caricato con successo
2025-05-15 22:14:27,743 - INFO - Tutti i template sono stati caricati
2025-05-15 22:14:27,743 - INFO - Sequenza iniziale dei template: ['intro', 'contatti']
2025-05-15 22:15:01,487 - INFO - Template intro caricato con successo
2025-05-15 22:15:01,488 - INFO - Template contatti caricato con successo
2025-05-15 22:15:01,488 - INFO - Template alloggi caricato con successo
2025-05-15 22:15:01,489 - INFO - Template noleggi caricato con successo
2025-05-15 22:15:01,489 - INFO - Template naturalistico caricato con successo
2025-05-15 22:15:01,490 - INFO - Template avventura caricato con successo
2025-05-15 22:15:01,490 - INFO - Template montagna caricato con successo
2025-05-15 22:15:01,490 - INFO - Template mare caricato con successo
2025-05-15 22:15:01,491 - INFO - Template gastronomia caricato con successo
2025-05-15 22:15:01,491 - INFO - Template citta_arte caricato con successo
2025-05-15 22:15:01,491 - INFO - Template benessere caricato con successo
2025-05-15 22:15:01,491 - INFO - Tutti i template sono stati caricati
2025-05-15 22:15:01,492 - INFO - Sequenza iniziale dei template: ['intro', 'contatti']
2025-05-15 22:24:50,150 - INFO - Template intro caricato con successo
2025-05-15 22:24:50,150 - INFO - Template contatti caricato con successo
2025-05-15 22:24:50,150 - INFO - Template alloggi caricato con successo
2025-05-15 22:24:50,150 - INFO - Template noleggi caricato con successo
2025-05-15 22:24:50,150 - INFO - Template naturalistico caricato con successo
2025-05-15 22:24:50,150 - INFO - Template avventura caricato con successo
2025-05-15 22:24:50,150 - INFO - Template montagna caricato con successo
2025-05-15 22:24:50,150 - INFO - Template mare caricato con successo
2025-05-15 22:24:50,150 - INFO - Template gastronomia caricato con successo
2025-05-15 22:24:50,150 - INFO - Template citta_arte caricato con successo
2025-05-15 22:24:50,166 - INFO - Template benessere caricato con successo
2025-05-15 22:24:50,166 - INFO - Tutti i template sono stati caricati
2025-05-15 22:24:50,166 - INFO - Sequenza iniziale dei template: ['intro', 'contatti']
2025-05-15 22:25:50,934 - INFO - Ricevuta richiesta extract_simple con testo: qwer
2025-05-15 22:25:50,935 - INFO - Template attivo: intro
2025-05-15 22:25:51,277 - INFO - vision_select_layer: -1
2025-05-15 22:25:51,293 - INFO - ps_version: v2
2025-05-15 22:25:51,293 - INFO - min_dynamic_patch: 1
2025-05-15 22:25:51,293 - INFO - max_dynamic_patch: 12
2025-05-15 22:25:52,862 - INFO - num_image_token: 256
2025-05-15 22:25:52,862 - INFO - ps_version: v2
2025-05-15 22:26:07,242 - INFO - Template modificato: False
2025-05-15 22:26:07,242 - INFO - Template aggiornato: {}
2025-05-15 22:26:07,242 - WARNING - Errori nel template intro: ['La destinazione generica è obbligatoria']
2025-05-15 22:26:07,258 - INFO - Frase guida inviata ad Ollama: Tutti i campi sono stati compilati.
2025-05-15 22:26:07,258 - INFO - Template aggiornato: {}
2025-05-15 22:26:34,133 - INFO - Risposta preparata con successo
2025-05-15 22:33:05,816 - INFO - Ricevuta richiesta extract_simple con testo: qwert
2025-05-15 22:33:05,816 - INFO - Template attivo: intro
2025-05-15 22:33:06,157 - INFO - vision_select_layer: -1
2025-05-15 22:33:06,157 - INFO - ps_version: v2
2025-05-15 22:33:06,157 - INFO - min_dynamic_patch: 1
2025-05-15 22:33:06,172 - INFO - max_dynamic_patch: 12
2025-05-15 22:33:07,830 - INFO - num_image_token: 256
2025-05-15 22:33:07,830 - INFO - ps_version: v2
2025-05-15 22:33:21,035 - INFO - Template modificato: False
2025-05-15 22:33:21,037 - INFO - Template aggiornato: {}
2025-05-15 22:33:21,037 - WARNING - Errori nel template intro: ['La destinazione generica è obbligatoria']
2025-05-15 22:33:21,039 - INFO - Frase guida inviata ad Ollama: Ciao! Sono qui per aiutarti a pianificare il tuo viaggio. Per iniziare, potresti dirmi in quale paese o regione vorresti andare?
2025-05-15 22:33:21,039 - INFO - Template aggiornato: {}
2025-05-15 22:33:49,981 - INFO - Risposta ottenuta da Ollama: Ciao! Per iniziare, potresti dirmi in quale paese o regione vuoi andare? Se ti stai preparando a un viaggio di breve durata o di lungo periodo, o se hai gi un'idea di dove ti piacerebbe andare,  meglio che lo sappia!   
Se non hai un'idea precisa, posso suggerire paesi o localit che ti piacciono, o puoi darmi una panoramica su quello che ti interessa. C' qualcosa che ti piacerebbe specificare?
2025-05-15 22:33:49,982 - INFO - Risposta preparata con successo
2025-05-15 22:35:08,483 - INFO - Ricevuta richiesta extract_simple con testo: Ciao, si mi piacerebbe visitare l'italia, magari la regione Veneto
2025-05-15 22:35:08,483 - INFO - Template attivo: intro
2025-05-15 22:35:10,210 - INFO - vision_select_layer: -1
2025-05-15 22:35:10,211 - INFO - ps_version: v2
2025-05-15 22:35:10,212 - INFO - min_dynamic_patch: 1
2025-05-15 22:35:10,212 - INFO - max_dynamic_patch: 12
2025-05-15 22:35:12,439 - INFO - num_image_token: 256
2025-05-15 22:35:12,439 - INFO - ps_version: v2
2025-05-15 22:35:31,560 - INFO - Template modificato: False
2025-05-15 22:35:31,562 - INFO - Template aggiornato: {}
2025-05-15 22:35:31,564 - WARNING - Errori nel template intro: ['La destinazione generica è obbligatoria']
2025-05-15 22:35:31,564 - INFO - Frase guida inviata ad Ollama: Ciao! Sono qui per aiutarti a pianificare il tuo viaggio. Per iniziare, potresti dirmi in quale paese o regione vorresti andare?
2025-05-15 22:35:31,566 - INFO - Template aggiornato: {}
2025-05-15 22:35:45,480 - INFO - Risposta ottenuta da Ollama: Ciao! Sono qui per aiutarti a pianificare il tuo viaggio. Per iniziare, potresti dirmi in quale paese o regione vorresti andare? Se hai gi un'idea specifica, posso aiutarti a creare un piano dettagliato! 
2025-05-15 22:35:45,480 - INFO - Risposta preparata con successo
2025-05-15 22:38:13,232 - INFO - Ricevuta richiesta extract_simple con testo: Ciao, si mi piacerebbe visitare l'italia, magari la regione Veneto
2025-05-15 22:38:13,232 - INFO - Template attivo: intro
2025-05-15 22:38:13,232 - INFO - Template Attivo new: intro
2025-05-15 22:38:13,614 - INFO - vision_select_layer: -1
2025-05-15 22:38:13,615 - INFO - ps_version: v2
2025-05-15 22:38:13,615 - INFO - min_dynamic_patch: 1
2025-05-15 22:38:13,615 - INFO - max_dynamic_patch: 12
2025-05-15 22:38:15,108 - INFO - num_image_token: 256
2025-05-15 22:38:15,108 - INFO - ps_version: v2
2025-05-15 22:38:31,523 - INFO - Template modificato: False
2025-05-15 22:38:31,523 - INFO - Template aggiornato: {}
2025-05-15 22:38:31,523 - WARNING - Errori nel template intro: ['La destinazione generica è obbligatoria']
2025-05-15 22:38:31,523 - INFO - Frase guida inviata ad Ollama: Ciao! Sono qui per aiutarti a pianificare il tuo viaggio. Per iniziare, potresti dirmi in quale paese o regione vorresti andare?
2025-05-15 22:38:31,523 - INFO - Template aggiornato: {}
2025-05-15 22:38:54,559 - INFO - Risposta ottenuta da Ollama: Ciao! Sono qui per aiutarti a pianificare il tuo viaggio. Per iniziare, potresti dirmi in quale paese o regione vorresti andare? Se hai un'idea specifica, come un'isola, un'area montuosa, un'attrazione culturale o un'esperienza specifica (es. escursionismo, relax, shopping), condividila con me e ti aiuto a creare un piano perfetto!   
Se non hai un'idea precisa, posso suggerire destinazioni popolari o aiutarti a scegliere in base alle tue preferenze. C' qualcosa di cui ti interessa?
2025-05-15 22:38:54,559 - INFO - Risposta preparata con successo
2025-05-15 22:55:26,528 - INFO - Ricevuta richiesta extract_simple con testo: qwerty
2025-05-15 22:55:26,544 - INFO - Template attivo: intro
2025-05-15 22:55:26,893 - INFO - vision_select_layer: -1
2025-05-15 22:55:26,893 - INFO - ps_version: v2
2025-05-15 22:55:26,893 - INFO - min_dynamic_patch: 1
2025-05-15 22:55:26,893 - INFO - max_dynamic_patch: 12
2025-05-15 22:55:28,306 - INFO - num_image_token: 256
2025-05-15 22:55:28,306 - INFO - ps_version: v2
2025-05-15 22:55:39,050 - INFO - Template modificato: False
2025-05-15 22:55:39,050 - INFO - Template aggiornato: {'destinazione_generica': {'type': 'string', 'description': 'La nazione o macro-area di destinazione (es. Italia, Europa, Asia)'}, 'località_specifica': {'type': 'string', 'description': 'La località precisa scelta dal cliente (es. Sardegna, Parigi, Tokyo)'}, 'numero_partecipanti': {'type': 'integer', 'description': 'Numero totale delle persone che viaggiano'}, 'tipo_partecipanti': {'type': 'string', 'description': 'Tipo di partecipanti', 'enum': ['adulti', 'anziani', 'famiglia']}, 'periodo_viaggio': {'type': 'string', 'description': 'data prevista per la partenza, nel formato YYYY-MM-DD'}, 'durata_viaggio_giorni': {'type': 'integer', 'description': 'Durata del viaggio in giorni'}, 'mood_vacanza': {'type': 'string', 'description': 'Tipo di vacanza desiderata', 'items': {'type': 'string', 'enum': ['avventura', 'cultura', 'benessere', 'mare', 'montagna', 'citta_arte', 'famiglia', 'naturalistico', 'gastronomia']}, 'uniqueItems': True}, 'budget_viaggio': {'type': 'integer', 'description': 'Budget totale per il viaggio'}}
2025-05-15 22:55:41,823 - WARNING - Errori nel template intro: ['Errore durante la verifica della destinazione: (422, \'{"detail":[{"loc":["body","texts",0],"msg":"str type expected","type":"type_error.str"}]}\')', 'Errore durante la verifica della destinazione locale: (422, \'{"detail":[{"loc":["body","texts",0],"msg":"str type expected","type":"type_error.str"}]}\')', "Errore durante la verifica del template: 'dict' object has no attribute 'strip'"]
2025-05-15 22:55:41,823 - INFO - Frase guida inviata ad Ollama: Tutti i campi sono stati compilati.
2025-05-15 22:55:41,823 - INFO - Template aggiornato: {
  "destinazione_generica": {
    "type": "string",
    "description": "La nazione o macro-area di destinazione (es. Italia, Europa, Asia)"
  },
  "località_specifica": {
    "type": "string",
    "description": "La località precisa scelta dal cliente (es. Sardegna, Parigi, Tokyo)"
  },
  "numero_partecipanti": {
    "type": "integer",
    "description": "Numero totale delle persone che viaggiano"
  },
  "tipo_partecipanti": {
    "type": "string",
    "description": "Tipo di partecipanti",
    "enum": [
      "adulti",
      "anziani",
      "famiglia"
    ]
  },
  "periodo_viaggio": {
    "type": "string",
    "description": "data prevista per la partenza, nel formato YYYY-MM-DD"
  },
  "durata_viaggio_giorni": {
    "type": "integer",
    "description": "Durata del viaggio in giorni"
  },
  "mood_vacanza": {
    "type": "string",
    "description": "Tipo di vacanza desiderata",
    "items": {
      "type": "string",
      "enum": [
        "avventura",
        "cultura",
        "benessere",
        "mare",
        "montagna",
        "citta_arte",
        "famiglia",
        "naturalistico",
        "gastronomia"
      ]
    },
    "uniqueItems": true
  },
  "budget_viaggio": {
    "type": "integer",
    "description": "Budget totale per il viaggio"
  }
}
2025-05-15 22:56:17,487 - INFO - Risposta ottenuta da Ollama: Tutti i campi sono stati compilati. Se hai bisogno di ulteriore aiuto o di conferma su qualcosa specifico, non esitare a chiedere! 
2025-05-15 22:56:17,488 - INFO - Template intro completato
2025-05-15 22:56:17,488 - INFO - Template intro completato, chiamata a evaluate_preferences
2025-05-15 22:56:17,503 - ERROR - Errore in extract_simple: 8 validation errors for TravelPreferenceRequest
destinazione_generica
  Input should be a valid string [type=string_type, input_value={'type': 'string', 'descr... Italia, Europa, Asia)'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
localita_specifica
  Field required [type=missing, input_value={'destinazione_generica':...totale per il viaggio'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
numero_partecipanti
  Input should be a valid integer [type=int_type, input_value={'type': 'integer', 'desc... persone che viaggiano'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
tipo_partecipanti
  Input should be a valid string [type=string_type, input_value={'type': 'string', 'descr... 'anziani', 'famiglia']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
periodo_viaggio
  Input should be a valid string [type=string_type, input_value={'type': 'string', 'descr...nel formato YYYY-MM-DD'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
durata_viaggio_giorni
  Input should be a valid integer [type=int_type, input_value={'type': 'integer', 'desc... del viaggio in giorni'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
mood_vacanza
  Input should be a valid list [type=list_type, input_value={'type': 'string', 'descr...]}, 'uniqueItems': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/list_type
budget_viaggio
  Input should be a valid integer [type=int_type, input_value={'type': 'integer', 'desc... totale per il viaggio'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 177, in extract_simple
    preference_request = TravelPreferenceRequest(**template_aggiornato)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 8 validation errors for TravelPreferenceRequest
destinazione_generica
  Input should be a valid string [type=string_type, input_value={'type': 'string', 'descr... Italia, Europa, Asia)'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
localita_specifica
  Field required [type=missing, input_value={'destinazione_generica':...totale per il viaggio'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
numero_partecipanti
  Input should be a valid integer [type=int_type, input_value={'type': 'integer', 'desc... persone che viaggiano'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
tipo_partecipanti
  Input should be a valid string [type=string_type, input_value={'type': 'string', 'descr... 'anziani', 'famiglia']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
periodo_viaggio
  Input should be a valid string [type=string_type, input_value={'type': 'string', 'descr...nel formato YYYY-MM-DD'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
durata_viaggio_giorni
  Input should be a valid integer [type=int_type, input_value={'type': 'integer', 'desc... del viaggio in giorni'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
mood_vacanza
  Input should be a valid list [type=list_type, input_value={'type': 'string', 'descr...]}, 'uniqueItems': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/list_type
budget_viaggio
  Input should be a valid integer [type=int_type, input_value={'type': 'integer', 'desc... totale per il viaggio'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
2025-05-15 23:12:46,059 - INFO - Ricevuta richiesta extract_simple con testo: Ciao, si mi piacerebbe visitare l'italia, magari la regione Veneto
2025-05-15 23:12:46,059 - INFO - Template attivo: intro
2025-05-15 23:12:46,425 - INFO - vision_select_layer: -1
2025-05-15 23:12:46,427 - INFO - ps_version: v2
2025-05-15 23:12:46,427 - INFO - min_dynamic_patch: 1
2025-05-15 23:12:46,427 - INFO - max_dynamic_patch: 12
2025-05-15 23:12:47,905 - INFO - num_image_token: 256
2025-05-15 23:12:47,905 - INFO - ps_version: v2
2025-05-15 23:12:57,819 - INFO - Template modificato: False
2025-05-15 23:12:57,834 - INFO - Template aggiornato: {'destinazione_generica': {'type': '', 'description': 'La nazione o macro-area di destinazione (es. Italia, Europa, Asia)'}, 'località_specifica': {'type': '', 'description': 'La località precisa scelta dal cliente (es. Sardegna, Parigi, Tokyo)'}, 'numero_partecipanti': {'type': 0, 'description': 'Numero totale delle persone che viaggiano'}, 'tipo_partecipanti': {'type': [], 'description': 'Tipo di partecipanti', 'enum': ['adulti', 'anziani', 'famiglia']}, 'periodo_viaggio': {'type': '', 'description': 'data prevista per la partenza, nel formato YYYY-MM-DD'}, 'durata_viaggio_giorni': {'type': 0, 'description': 'Durata del viaggio in giorni'}, 'mood_vacanza': {'type': '', 'description': 'Tipo di vacanza desiderata', 'items': {'type': [], 'enum': ['avventura', 'cultura', 'benessere', 'mare', 'montagna', 'citta_arte', 'famiglia', 'naturalistico', 'gastronomia']}, 'uniqueItems': True}, 'budget_viaggio': {'type': 0, 'description': 'Budget totale per il viaggio'}}
2025-05-15 23:13:00,403 - WARNING - Errori nel template intro: ['Errore durante la verifica della destinazione: (422, \'{"detail":[{"loc":["body","texts",0],"msg":"str type expected","type":"type_error.str"}]}\')', 'Errore durante la verifica della destinazione locale: (422, \'{"detail":[{"loc":["body","texts",0],"msg":"str type expected","type":"type_error.str"}]}\')', "Errore durante la verifica del template: 'dict' object has no attribute 'strip'"]
2025-05-15 23:13:00,403 - INFO - Frase guida inviata ad Ollama: Tutti i campi sono stati compilati.
2025-05-15 23:13:00,403 - INFO - Template aggiornato: {
  "destinazione_generica": {
    "type": "",
    "description": "La nazione o macro-area di destinazione (es. Italia, Europa, Asia)"
  },
  "località_specifica": {
    "type": "",
    "description": "La località precisa scelta dal cliente (es. Sardegna, Parigi, Tokyo)"
  },
  "numero_partecipanti": {
    "type": 0,
    "description": "Numero totale delle persone che viaggiano"
  },
  "tipo_partecipanti": {
    "type": [],
    "description": "Tipo di partecipanti",
    "enum": [
      "adulti",
      "anziani",
      "famiglia"
    ]
  },
  "periodo_viaggio": {
    "type": "",
    "description": "data prevista per la partenza, nel formato YYYY-MM-DD"
  },
  "durata_viaggio_giorni": {
    "type": 0,
    "description": "Durata del viaggio in giorni"
  },
  "mood_vacanza": {
    "type": "",
    "description": "Tipo di vacanza desiderata",
    "items": {
      "type": [],
      "enum": [
        "avventura",
        "cultura",
        "benessere",
        "mare",
        "montagna",
        "citta_arte",
        "famiglia",
        "naturalistico",
        "gastronomia"
      ]
    },
    "uniqueItems": true
  },
  "budget_viaggio": {
    "type": 0,
    "description": "Budget totale per il viaggio"
  }
}
2025-05-15 23:13:28,878 - INFO - Risposta ottenuta da Ollama: Tutti i campi sono stati compilati!   
Se hai bisogno di ulteriori informazioni o hai bisogno di aiuto, non esitare a chiedere.   
Ciao!
2025-05-15 23:13:28,879 - INFO - Template intro completato
2025-05-15 23:13:28,880 - INFO - Template intro completato, chiamata a evaluate_preferences
2025-05-15 23:13:28,897 - ERROR - Errore in extract_simple: 8 validation errors for TravelPreferenceRequest
destinazione_generica
  Input should be a valid string [type=string_type, input_value={'type': '', 'description... Italia, Europa, Asia)'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
localita_specifica
  Field required [type=missing, input_value={'destinazione_generica':...totale per il viaggio'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
numero_partecipanti
  Input should be a valid integer [type=int_type, input_value={'type': 0, 'description'... persone che viaggiano'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
tipo_partecipanti
  Input should be a valid string [type=string_type, input_value={'type': [], 'description... 'anziani', 'famiglia']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
periodo_viaggio
  Input should be a valid string [type=string_type, input_value={'type': '', 'description...nel formato YYYY-MM-DD'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
durata_viaggio_giorni
  Input should be a valid integer [type=int_type, input_value={'type': 0, 'description'... del viaggio in giorni'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
mood_vacanza
  Input should be a valid list [type=list_type, input_value={'type': '', 'description...]}, 'uniqueItems': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/list_type
budget_viaggio
  Input should be a valid integer [type=int_type, input_value={'type': 0, 'description'... totale per il viaggio'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 177, in extract_simple
    preference_request = TravelPreferenceRequest(**template_aggiornato)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 8 validation errors for TravelPreferenceRequest
destinazione_generica
  Input should be a valid string [type=string_type, input_value={'type': '', 'description... Italia, Europa, Asia)'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
localita_specifica
  Field required [type=missing, input_value={'destinazione_generica':...totale per il viaggio'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
numero_partecipanti
  Input should be a valid integer [type=int_type, input_value={'type': 0, 'description'... persone che viaggiano'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
tipo_partecipanti
  Input should be a valid string [type=string_type, input_value={'type': [], 'description... 'anziani', 'famiglia']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
periodo_viaggio
  Input should be a valid string [type=string_type, input_value={'type': '', 'description...nel formato YYYY-MM-DD'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
durata_viaggio_giorni
  Input should be a valid integer [type=int_type, input_value={'type': 0, 'description'... del viaggio in giorni'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
mood_vacanza
  Input should be a valid list [type=list_type, input_value={'type': '', 'description...]}, 'uniqueItems': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/list_type
budget_viaggio
  Input should be a valid integer [type=int_type, input_value={'type': 0, 'description'... totale per il viaggio'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
2025-05-15 23:19:30,098 - INFO - Ricevuta richiesta extract_simple con testo: Ciao, si mi piacerebbe visitare l'italia, magari la regione Veneto
2025-05-15 23:19:30,099 - INFO - Template attivo: intro
2025-05-15 23:19:30,528 - INFO - vision_select_layer: -1
2025-05-15 23:19:30,528 - INFO - ps_version: v2
2025-05-15 23:19:30,528 - INFO - min_dynamic_patch: 1
2025-05-15 23:19:30,528 - INFO - max_dynamic_patch: 12
2025-05-15 23:19:31,503 - INFO - num_image_token: 256
2025-05-15 23:19:31,503 - INFO - ps_version: v2
2025-05-15 23:19:42,007 - INFO - Template modificato: False
2025-05-15 23:19:42,009 - INFO - Template aggiornato: {'destinazione_generica': {'type': '', 'description': 'La nazione o macro-area di destinazione (es. Italia, Europa, Asia)'}, 'località_specifica': {'type': '', 'description': 'La località precisa scelta dal cliente (es. Sardegna, Parigi, Tokyo)'}, 'numero_partecipanti': {'type': 0, 'description': 'Numero totale delle persone che viaggiano'}, 'tipo_partecipanti': {'type': [], 'description': 'Tipo di partecipanti', 'enum': ['adulti', 'anziani', 'famiglia']}, 'periodo_viaggio': {'type': '', 'description': 'data prevista per la partenza, nel formato YYYY-MM-DD'}, 'durata_viaggio_giorni': {'type': 0, 'description': 'Durata del viaggio in giorni'}, 'mood_vacanza': {'type': '', 'description': 'Tipo di vacanza desiderata', 'items': {'type': [], 'enum': ['avventura', 'cultura', 'benessere', 'mare', 'montagna', 'citta_arte', 'famiglia', 'naturalistico', 'gastronomia']}, 'uniqueItems': True}, 'budget_viaggio': {'type': 0, 'description': 'Budget totale per il viaggio'}}
2025-05-15 23:19:43,695 - WARNING - Errori nel template intro: ['Errore durante la verifica della destinazione: (422, \'{"detail":[{"loc":["body","texts",0],"msg":"str type expected","type":"type_error.str"}]}\')', 'Errore durante la verifica della destinazione locale: (422, \'{"detail":[{"loc":["body","texts",0],"msg":"str type expected","type":"type_error.str"}]}\')', "Errore durante la verifica del template: 'dict' object has no attribute 'strip'"]
2025-05-15 23:19:43,695 - INFO - Frase guida inviata ad Ollama: Tutti i campi sono stati compilati.
2025-05-15 23:19:43,695 - INFO - Template aggiornato: {
  "destinazione_generica": {
    "type": "",
    "description": "La nazione o macro-area di destinazione (es. Italia, Europa, Asia)"
  },
  "località_specifica": {
    "type": "",
    "description": "La località precisa scelta dal cliente (es. Sardegna, Parigi, Tokyo)"
  },
  "numero_partecipanti": {
    "type": 0,
    "description": "Numero totale delle persone che viaggiano"
  },
  "tipo_partecipanti": {
    "type": [],
    "description": "Tipo di partecipanti",
    "enum": [
      "adulti",
      "anziani",
      "famiglia"
    ]
  },
  "periodo_viaggio": {
    "type": "",
    "description": "data prevista per la partenza, nel formato YYYY-MM-DD"
  },
  "durata_viaggio_giorni": {
    "type": 0,
    "description": "Durata del viaggio in giorni"
  },
  "mood_vacanza": {
    "type": "",
    "description": "Tipo di vacanza desiderata",
    "items": {
      "type": [],
      "enum": [
        "avventura",
        "cultura",
        "benessere",
        "mare",
        "montagna",
        "citta_arte",
        "famiglia",
        "naturalistico",
        "gastronomia"
      ]
    },
    "uniqueItems": true
  },
  "budget_viaggio": {
    "type": 0,
    "description": "Budget totale per il viaggio"
  }
}
2025-05-15 23:20:03,632 - INFO - Risposta ottenuta da Ollama: Tutti i campi sono stati compilati.  
Grazie per aver completato i campi! Se hai bisogno di aiuto con qualcosa di altro, non esitare a chiedere. 
2025-05-15 23:20:03,633 - INFO - Template intro completato
2025-05-15 23:20:03,633 - INFO - Template intro completato, chiamata a evaluate_preferences
2025-05-15 23:20:03,649 - ERROR - Errore in extract_simple: 8 validation errors for TravelPreferenceRequest
destinazione_generica
  Input should be a valid string [type=string_type, input_value={'type': '', 'description... Italia, Europa, Asia)'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
localita_specifica
  Field required [type=missing, input_value={'destinazione_generica':...totale per il viaggio'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
numero_partecipanti
  Input should be a valid integer [type=int_type, input_value={'type': 0, 'description'... persone che viaggiano'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
tipo_partecipanti
  Input should be a valid string [type=string_type, input_value={'type': [], 'description... 'anziani', 'famiglia']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
periodo_viaggio
  Input should be a valid string [type=string_type, input_value={'type': '', 'description...nel formato YYYY-MM-DD'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
durata_viaggio_giorni
  Input should be a valid integer [type=int_type, input_value={'type': 0, 'description'... del viaggio in giorni'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
mood_vacanza
  Input should be a valid list [type=list_type, input_value={'type': '', 'description...]}, 'uniqueItems': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/list_type
budget_viaggio
  Input should be a valid integer [type=int_type, input_value={'type': 0, 'description'... totale per il viaggio'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 177, in extract_simple
    preference_request = TravelPreferenceRequest(**template_aggiornato)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 8 validation errors for TravelPreferenceRequest
destinazione_generica
  Input should be a valid string [type=string_type, input_value={'type': '', 'description... Italia, Europa, Asia)'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
localita_specifica
  Field required [type=missing, input_value={'destinazione_generica':...totale per il viaggio'}}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
numero_partecipanti
  Input should be a valid integer [type=int_type, input_value={'type': 0, 'description'... persone che viaggiano'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
tipo_partecipanti
  Input should be a valid string [type=string_type, input_value={'type': [], 'description... 'anziani', 'famiglia']}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
periodo_viaggio
  Input should be a valid string [type=string_type, input_value={'type': '', 'description...nel formato YYYY-MM-DD'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
durata_viaggio_giorni
  Input should be a valid integer [type=int_type, input_value={'type': 0, 'description'... del viaggio in giorni'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
mood_vacanza
  Input should be a valid list [type=list_type, input_value={'type': '', 'description...]}, 'uniqueItems': True}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/list_type
budget_viaggio
  Input should be a valid integer [type=int_type, input_value={'type': 0, 'description'... totale per il viaggio'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/int_type
2025-05-15 23:20:46,973 - INFO - Ricevuta richiesta extract_simple con testo: Ciao, si mi piacerebbe visitare l'italia, magari la regione Veneto
2025-05-15 23:20:46,973 - INFO - Template attivo: intro
2025-05-15 23:20:47,330 - INFO - vision_select_layer: -1
2025-05-15 23:20:47,330 - INFO - ps_version: v2
2025-05-15 23:20:47,330 - INFO - min_dynamic_patch: 1
2025-05-15 23:20:47,330 - INFO - max_dynamic_patch: 12
2025-05-15 23:20:49,175 - INFO - num_image_token: 256
2025-05-15 23:20:49,176 - INFO - ps_version: v2
2025-05-15 23:21:00,405 - INFO - Template modificato: False
2025-05-15 23:21:00,408 - INFO - Template aggiornato: {'destinazione_generica': 'La nazione o macro-area di destinazione (es. Italia, Europa, Asia)', 'località_specifica': 'La località precisa scelta dal cliente (es. Sardegna, Parigi, Tokyo)', 'numero_partecipanti': 'Numero totale delle persone che viaggiano, in numero intero', 'tipo_partecipanti': ['adulti', 'anziani', 'famiglia'], 'periodo_viaggio': 'data prevista per la partenza, nel formato YYYY-MM-DD', 'durata_viaggio_giorni': 'Durata del viaggio in giorni, in numero intero', 'mood_vacanza': [['avventura', 'cultura', 'benessere', 'mare', 'montagna', 'citta_arte', 'famiglia', 'naturalistico', 'gastronomia']], 'budget_viaggio': 'Budget totale per il viaggio, in numero intero'}
2025-05-15 23:21:02,985 - WARNING - Errori nel template intro: ['Errore durante la verifica della destinazione: 0', 'Errore durante la verifica della destinazione locale: 0', "Errore durante la verifica del template: 'list' object has no attribute 'strip'"]
2025-05-15 23:21:02,985 - INFO - Frase guida inviata ad Ollama: Tutti i campi sono stati compilati.
2025-05-15 23:21:02,985 - INFO - Template aggiornato: {
  "destinazione_generica": "La nazione o macro-area di destinazione (es. Italia, Europa, Asia)",
  "località_specifica": "La località precisa scelta dal cliente (es. Sardegna, Parigi, Tokyo)",
  "numero_partecipanti": "Numero totale delle persone che viaggiano, in numero intero",
  "tipo_partecipanti": [
    "adulti",
    "anziani",
    "famiglia"
  ],
  "periodo_viaggio": "data prevista per la partenza, nel formato YYYY-MM-DD",
  "durata_viaggio_giorni": "Durata del viaggio in giorni, in numero intero",
  "mood_vacanza": [
    [
      "avventura",
      "cultura",
      "benessere",
      "mare",
      "montagna",
      "citta_arte",
      "famiglia",
      "naturalistico",
      "gastronomia"
    ]
  ],
  "budget_viaggio": "Budget totale per il viaggio, in numero intero"
}
2025-05-15 23:21:46,626 - INFO - Risposta ottenuta da Ollama: Tutti i campi sono stati compilati.  
Questa frase indica che tutti i requisiti del form sono stati completati. Se hai bisogno di ulteriori spiegazioni, supporto o aiuto con qualcosa di diverso, non esitare a chiedere! 
2025-05-15 23:21:46,627 - INFO - Template intro completato
2025-05-15 23:21:46,627 - INFO - Template intro completato, chiamata a evaluate_preferences
2025-05-15 23:21:46,650 - ERROR - Errore in extract_simple: 6 validation errors for TravelPreferenceRequest
localita_specifica
  Field required [type=missing, input_value={'destinazione_generica':...ggio, in numero intero'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
numero_partecipanti
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='Numero totale delle pers...giano, in numero intero', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
tipo_partecipanti
  Input should be a valid string [type=string_type, input_value=['adulti', 'anziani', 'famiglia'], input_type=list]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
durata_viaggio_giorni
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='Durata del viaggio in giorni, in numero intero', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
mood_vacanza.0
  Input should be a valid string [type=string_type, input_value=['avventura', 'cultura', ...listico', 'gastronomia'], input_type=list]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
budget_viaggio
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='Budget totale per il viaggio, in numero intero', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 177, in extract_simple
    preference_request = TravelPreferenceRequest(**template_aggiornato)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 6 validation errors for TravelPreferenceRequest
localita_specifica
  Field required [type=missing, input_value={'destinazione_generica':...ggio, in numero intero'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
numero_partecipanti
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='Numero totale delle pers...giano, in numero intero', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
tipo_partecipanti
  Input should be a valid string [type=string_type, input_value=['adulti', 'anziani', 'famiglia'], input_type=list]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
durata_viaggio_giorni
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='Durata del viaggio in giorni, in numero intero', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
mood_vacanza.0
  Input should be a valid string [type=string_type, input_value=['avventura', 'cultura', ...listico', 'gastronomia'], input_type=list]
    For further information visit https://errors.pydantic.dev/2.11/v/string_type
budget_viaggio
  Input should be a valid integer, unable to parse string as an integer [type=int_parsing, input_value='Budget totale per il viaggio, in numero intero', input_type=str]
    For further information visit https://errors.pydantic.dev/2.11/v/int_parsing
2025-05-15 23:57:18,951 - INFO - Ricevuta richiesta extract_simple con testo: Ciao, si mi piacerebbe visitare l'italia, magari la regione Veneto
2025-05-15 23:57:18,952 - INFO - Template attivo: intro
2025-05-15 23:57:19,304 - INFO - vision_select_layer: -1
2025-05-15 23:57:19,304 - INFO - ps_version: v2
2025-05-15 23:57:19,304 - INFO - min_dynamic_patch: 1
2025-05-15 23:57:19,304 - INFO - max_dynamic_patch: 12
2025-05-15 23:57:20,925 - INFO - num_image_token: 256
2025-05-15 23:57:20,925 - INFO - ps_version: v2
2025-05-15 23:57:45,802 - INFO - Template modificato: False
2025-05-15 23:57:45,804 - INFO - Template aggiornato: None
2025-05-15 23:57:45,804 - ERROR - Errore in extract_simple: 'NoneType' object has no attribute 'copy'
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 128, in extract_simple
    template_aggiornato, warnings, errors = intro_template.verifica_template(template_aggiornato)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\librerie\intro_lib.py", line 302, in verifica_template
    updated_data = data.copy()
AttributeError: 'NoneType' object has no attribute 'copy'
2025-05-16 00:04:51,857 - INFO - Ricevuta richiesta extract_simple con testo: Ciao, si mi piacerebbe visitare l'italia, magari la regione Veneto
2025-05-16 00:04:51,857 - INFO - Template attivo: intro
2025-05-16 00:04:52,211 - INFO - vision_select_layer: -1
2025-05-16 00:04:52,211 - INFO - ps_version: v2
2025-05-16 00:04:52,211 - INFO - min_dynamic_patch: 1
2025-05-16 00:04:52,211 - INFO - max_dynamic_patch: 12
2025-05-16 00:04:53,864 - INFO - num_image_token: 256
2025-05-16 00:04:53,864 - INFO - ps_version: v2
2025-05-16 00:05:11,745 - INFO - Template modificato: False
2025-05-16 00:05:11,745 - INFO - Template aggiornato: None
2025-05-16 00:05:11,745 - ERROR - Errore in extract_simple: 'NoneType' object has no attribute 'copy'
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 128, in extract_simple
    template_aggiornato, warnings, errors = intro_template.verifica_template(template_aggiornato)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\librerie\intro_lib.py", line 302, in verifica_template
    updated_data = data.copy()
AttributeError: 'NoneType' object has no attribute 'copy'
2025-05-16 10:58:45,202 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Venezia
2025-05-16 10:58:45,203 - INFO - Template attivo: intro
2025-05-16 10:58:45,204 - INFO - Template modificato: False
2025-05-16 10:58:45,205 - INFO - Template aggiornato: None
2025-05-16 10:58:45,205 - ERROR - Errore in extract_simple: 'NoneType' object has no attribute 'copy'
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 128, in extract_simple
    template_aggiornato, warnings, errors = intro_template.verifica_template(template_aggiornato)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\librerie\intro_lib.py", line 302, in verifica_template
    updated_data = data.copy()
AttributeError: 'NoneType' object has no attribute 'copy'
2025-05-16 11:05:57,103 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Venezia
2025-05-16 11:05:57,103 - INFO - Template attivo: intro
2025-05-16 11:05:57,530 - INFO - vision_select_layer: -1
2025-05-16 11:05:57,531 - INFO - ps_version: v2
2025-05-16 11:05:57,531 - INFO - min_dynamic_patch: 1
2025-05-16 11:05:57,532 - INFO - max_dynamic_patch: 12
2025-05-16 11:06:00,114 - INFO - num_image_token: 256
2025-05-16 11:06:00,114 - INFO - ps_version: v2
2025-05-16 11:06:49,495 - INFO - Template modificato: True
2025-05-16 11:06:49,497 - INFO - Template aggiornato: {'nazione_destinazione': 'Italia', 'regione_citta_destinazione': 'Venezia', 'numero_partecipanti': None, 'tipo_partecipanti': [], 'periodo_viaggio': None, 'durata_viaggio_giorni': None, 'mood_vacanza': [], 'budget_viaggio': None}
2025-05-16 11:06:51,951 - WARNING - Errori nel template intro: ['Errore durante la verifica della nazione: 0', 'Errore durante la verifica della regione o città: 0', "Errore durante la verifica del template: 'list' object has no attribute 'strip'"]
2025-05-16 11:06:51,952 - INFO - Stato aggiornato per il template intro
2025-05-16 11:06:51,953 - INFO - Frase guida inviata ad Ollama: Quante persone parteciperanno al viaggio?
2025-05-16 11:06:51,955 - INFO - Template aggiornato: {
  "nazione_destinazione": "Italia",
  "regione_citta_destinazione": "Venezia",
  "numero_partecipanti": null,
  "tipo_partecipanti": [],
  "periodo_viaggio": null,
  "durata_viaggio_giorni": null,
  "mood_vacanza": [],
  "budget_viaggio": null
}
2025-05-16 11:07:28,101 - INFO - Risposta ottenuta da Ollama: La risposta : **15 persone**.
2025-05-16 11:07:28,102 - INFO - Risposta preparata con successo
2025-05-16 11:15:15,443 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Venezia
2025-05-16 11:15:15,444 - INFO - Template attivo: intro
2025-05-16 11:15:16,160 - INFO - vision_select_layer: -1
2025-05-16 11:15:16,161 - INFO - ps_version: v2
2025-05-16 11:15:16,161 - INFO - min_dynamic_patch: 1
2025-05-16 11:15:16,162 - INFO - max_dynamic_patch: 12
2025-05-16 11:15:22,608 - INFO - num_image_token: 256
2025-05-16 11:15:22,609 - INFO - ps_version: v2
2025-05-16 11:16:07,636 - INFO - Template modificato: True
2025-05-16 11:16:07,637 - INFO - Template aggiornato: {'nazione_destinazione': 'Italia', 'regione_citta_destinazione': 'Venezia', 'numero_partecipanti': None, 'tipo_partecipanti': [], 'periodo_viaggio': None, 'durata_viaggio_giorni': None, 'mood_vacanza': [], 'budget_viaggio': None}
2025-05-16 11:16:09,809 - WARNING - Errori nel template intro: ['Errore durante la verifica della nazione: 0', 'Errore durante la verifica della regione o città: 0', 'Il numero di partecipanti deve essere un intero']
2025-05-16 11:16:09,810 - INFO - Stato aggiornato per il template intro
2025-05-16 11:16:09,810 - INFO - Frase guida inviata ad Ollama: Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia

Prossimo campo da compilare: tipo_partecipanti
Frase guida: Con chi viaggerai? (es. famiglia, coppia, amici, da solo)

Per favore, rispondi in modo conciso e pertinente alla domanda, considerando il contesto fornito.
La risposta deve essere diretta e specifica per il campo richiesto.
2025-05-16 11:16:09,810 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": [],
  "mood_vacanza": [],
  "numero_partecipanti": null,
  "durata_viaggio_giorni": null,
  "budget_viaggio": null,
  "periodo_viaggio": null
}
2025-05-16 11:16:47,073 - INFO - Risposta ottenuta da Ollama: **da solo**  
(Se viaggerai da solo, indica la tua singola partecipazione.)
2025-05-16 11:16:47,073 - INFO - Risposta preparata con successo
2025-05-16 11:25:15,071 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Venezia
2025-05-16 11:25:15,071 - INFO - Template attivo: intro
2025-05-16 11:25:15,416 - INFO - vision_select_layer: -1
2025-05-16 11:25:15,416 - INFO - ps_version: v2
2025-05-16 11:25:15,418 - INFO - min_dynamic_patch: 1
2025-05-16 11:25:15,418 - INFO - max_dynamic_patch: 12
2025-05-16 11:25:16,727 - INFO - num_image_token: 256
2025-05-16 11:25:16,727 - INFO - ps_version: v2
2025-05-16 11:26:04,280 - INFO - Template modificato: True
2025-05-16 11:26:04,282 - INFO - Template aggiornato: {'nazione_destinazione': 'Italia', 'regione_citta_destinazione': 'Venezia', 'numero_partecipanti': None, 'tipo_partecipanti': [], 'periodo_viaggio': None, 'durata_viaggio_giorni': None, 'mood_vacanza': [], 'budget_viaggio': None}
2025-05-16 11:26:07,160 - WARNING - Errori nel template intro: ['Errore durante la verifica della nazione: 0', 'Errore durante la verifica della regione o città: 0', 'Il numero di partecipanti deve essere un intero']
2025-05-16 11:26:07,172 - INFO - Stato aggiornato per il template intro
2025-05-16 11:26:07,172 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia

Devi chiedere informazioni per il campo: tipo_partecipanti
Frase guida di riferimento: Con chi viaggerai? (es. famiglia, coppia, amici, da solo)

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 11:26:07,173 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": [],
  "mood_vacanza": [],
  "numero_partecipanti": null,
  "durata_viaggio_giorni": null,
  "budget_viaggio": null,
  "periodo_viaggio": null
}
2025-05-16 11:26:29,951 - INFO - Risposta ottenuta da Ollama: Quale tipo di partecipanti hai intenzione di portare? (es. famiglia, coppia, amici, da solo)
2025-05-16 11:26:29,951 - INFO - Risposta preparata con successo
2025-05-16 11:26:58,046 - INFO - Ricevuta richiesta extract_simple con testo: vorrei fare un viaggio di famiglia 
2025-05-16 11:26:58,047 - INFO - Template attivo: intro
2025-05-16 11:26:58,462 - INFO - vision_select_layer: -1
2025-05-16 11:26:58,463 - INFO - ps_version: v2
2025-05-16 11:26:58,463 - INFO - min_dynamic_patch: 1
2025-05-16 11:26:58,463 - INFO - max_dynamic_patch: 12
2025-05-16 11:26:58,943 - INFO - num_image_token: 256
2025-05-16 11:26:58,943 - INFO - ps_version: v2
2025-05-16 11:27:51,647 - INFO - Template modificato: True
2025-05-16 11:27:51,649 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'famiglia', 'mood_vacanza': ['famiglia'], 'numero_partecipanti': None, 'durata_viaggio_giorni': None, 'budget_viaggio': None, 'periodo_viaggio': None}
2025-05-16 11:27:53,061 - WARNING - Errori nel template intro: ['Errore durante la verifica della nazione: 0', 'Errore durante la verifica della regione o città: 0', 'Il numero di partecipanti deve essere un intero']
2025-05-16 11:27:53,062 - INFO - Stato aggiornato per il template intro
2025-05-16 11:27:53,063 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: famiglia
mood_vacanza: famiglia

Devi chiedere informazioni per il campo: numero_partecipanti
Frase guida di riferimento: Quante persone parteciperanno al viaggio?

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 11:27:53,065 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "famiglia",
  "mood_vacanza": [
    "famiglia"
  ],
  "numero_partecipanti": null,
  "durata_viaggio_giorni": null,
  "budget_viaggio": null,
  "periodo_viaggio": null
}
2025-05-16 11:28:11,903 - INFO - Risposta ottenuta da Ollama: Quante persone comprender la famiglia durante il viaggio?
2025-05-16 11:28:11,904 - INFO - Risposta preparata con successo
2025-05-16 11:31:00,213 - INFO - Ricevuta richiesta extract_simple con testo: siamo in 5 persone
2025-05-16 11:31:00,213 - INFO - Template attivo: intro
2025-05-16 11:31:00,577 - INFO - vision_select_layer: -1
2025-05-16 11:31:00,577 - INFO - ps_version: v2
2025-05-16 11:31:00,578 - INFO - min_dynamic_patch: 1
2025-05-16 11:31:00,579 - INFO - max_dynamic_patch: 12
2025-05-16 11:31:01,268 - INFO - num_image_token: 256
2025-05-16 11:31:01,269 - INFO - ps_version: v2
2025-05-16 11:31:49,770 - INFO - Template modificato: True
2025-05-16 11:31:49,772 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'famiglia', 'mood_vacanza': ['famiglia'], 'numero_partecipanti': 5, 'durata_viaggio_giorni': None, 'budget_viaggio': None, 'periodo_viaggio': None}
2025-05-16 11:31:51,129 - WARNING - Errori nel template intro: ['Errore durante la verifica della nazione: 0', 'Errore durante la verifica della regione o città: 0', 'Il periodo del viaggio deve essere una stringa']
2025-05-16 11:31:51,129 - INFO - Stato aggiornato per il template intro
2025-05-16 11:31:51,130 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: famiglia
mood_vacanza: famiglia
numero_partecipanti: 5

Devi chiedere informazioni per il campo: durata_viaggio_giorni
Frase guida di riferimento: Per quanti giorni vorresti rimanere?

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 11:31:51,131 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "famiglia",
  "mood_vacanza": [
    "famiglia"
  ],
  "numero_partecipanti": 5,
  "durata_viaggio_giorni": null,
  "budget_viaggio": null,
  "periodo_viaggio": null
}
2025-05-16 11:32:15,003 - INFO - Risposta ottenuta da Ollama: Circa quanti giorni vuoi che rimaniamo a Venezia? 
2025-05-16 11:32:15,003 - INFO - Risposta preparata con successo
2025-05-16 11:32:50,653 - INFO - Ricevuta richiesta extract_simple con testo: pensavo di rimanerci 10 giorni, e pensavo di partire il 10 aprile
2025-05-16 11:32:50,653 - INFO - Template attivo: intro
2025-05-16 11:32:51,007 - INFO - vision_select_layer: -1
2025-05-16 11:32:51,007 - INFO - ps_version: v2
2025-05-16 11:32:51,008 - INFO - min_dynamic_patch: 1
2025-05-16 11:32:51,008 - INFO - max_dynamic_patch: 12
2025-05-16 11:32:51,499 - INFO - num_image_token: 256
2025-05-16 11:32:51,499 - INFO - ps_version: v2
2025-05-16 11:33:59,988 - INFO - Template modificato: True
2025-05-16 11:33:59,994 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'famiglia', 'mood_vacanza': ['famiglia'], 'numero_partecipanti': 5, 'durata_viaggio_giorni': None, 'budget_viaggio': None, 'periodo_viaggio': None}
2025-05-16 11:34:01,793 - WARNING - Errori nel template intro: ['Errore durante la verifica della nazione: 0', 'Errore durante la verifica della regione o città: 0', 'Il periodo del viaggio deve essere una stringa']
2025-05-16 11:34:01,794 - INFO - Stato aggiornato per il template intro
2025-05-16 11:34:01,795 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: famiglia
mood_vacanza: famiglia
numero_partecipanti: 5

Devi chiedere informazioni per il campo: durata_viaggio_giorni
Frase guida di riferimento: Per quanti giorni vorresti rimanere?

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 11:34:01,798 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "famiglia",
  "mood_vacanza": [
    "famiglia"
  ],
  "numero_partecipanti": 5,
  "durata_viaggio_giorni": null,
  "budget_viaggio": null,
  "periodo_viaggio": null
}
2025-05-16 11:34:27,715 - INFO - Risposta ottenuta da Ollama: Per quanto tempo vuoi stare a Venezia?
2025-05-16 11:34:27,715 - INFO - Risposta preparata con successo
2025-05-16 11:35:40,560 - INFO - Ricevuta richiesta extract_simple con testo: pensavo di viaggiare per10 giorni, e pensavo di partire il 10 aprile
2025-05-16 11:35:40,561 - INFO - Template attivo: intro
2025-05-16 11:35:40,932 - INFO - vision_select_layer: -1
2025-05-16 11:35:40,932 - INFO - ps_version: v2
2025-05-16 11:35:40,935 - INFO - min_dynamic_patch: 1
2025-05-16 11:35:40,935 - INFO - max_dynamic_patch: 12
2025-05-16 11:35:41,378 - INFO - num_image_token: 256
2025-05-16 11:35:41,379 - INFO - ps_version: v2
2025-05-16 11:36:26,973 - INFO - Template modificato: True
2025-05-16 11:36:26,975 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'famiglia', 'mood_vacanza': ['famiglia'], 'numero_partecipanti': 5, 'durata_viaggio_giorni': None, 'budget_viaggio': None, 'periodo_viaggio': None}
2025-05-16 11:36:28,347 - WARNING - Errori nel template intro: ['Errore durante la verifica della nazione: 0', 'Errore durante la verifica della regione o città: 0', 'Il periodo del viaggio deve essere una stringa']
2025-05-16 11:36:28,348 - INFO - Stato aggiornato per il template intro
2025-05-16 11:36:28,348 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: famiglia
mood_vacanza: famiglia
numero_partecipanti: 5

Devi chiedere informazioni per il campo: durata_viaggio_giorni
Frase guida di riferimento: Per quanti giorni vorresti rimanere?

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 11:36:28,349 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "famiglia",
  "mood_vacanza": [
    "famiglia"
  ],
  "numero_partecipanti": 5,
  "durata_viaggio_giorni": null,
  "budget_viaggio": null,
  "periodo_viaggio": null
}
2025-05-16 11:36:42,742 - INFO - Risposta ottenuta da Ollama: Quanti giorni vuoi che rimaniamo a Venezia?
2025-05-16 11:36:42,742 - INFO - Risposta preparata con successo
2025-05-16 12:32:16,335 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Venezia
2025-05-16 12:32:16,336 - INFO - Template attivo: intro
2025-05-16 12:32:16,773 - INFO - vision_select_layer: -1
2025-05-16 12:32:16,773 - INFO - ps_version: v2
2025-05-16 12:32:16,773 - INFO - min_dynamic_patch: 1
2025-05-16 12:32:16,773 - INFO - max_dynamic_patch: 12
2025-05-16 12:32:19,814 - INFO - num_image_token: 256
2025-05-16 12:32:19,815 - INFO - ps_version: v2
2025-05-16 12:33:06,876 - INFO - Template modificato: True
2025-05-16 12:33:06,877 - INFO - Template aggiornato: {'nazione_destinazione': 'Italia', 'regione_citta_destinazione': 'Venezia', 'numero_partecipanti': None, 'tipo_partecipanti': [], 'periodo_viaggio': None, 'durata_viaggio_giorni': None, 'mood_vacanza': [], 'budget_viaggio': None}
2025-05-16 12:33:09,761 - WARNING - Errori nel template intro: ['Errore durante la verifica della nazione: 0', 'Errore durante la verifica della regione o città: 0', 'Il numero di partecipanti deve essere un intero']
2025-05-16 12:33:09,762 - INFO - Stato aggiornato per il template intro
2025-05-16 12:33:09,762 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia

Devi chiedere informazioni per il campo: tipo_partecipanti
Frase guida di riferimento: Con chi viaggerai? (es. famiglia, coppia, amici, da solo)

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 12:33:09,775 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": [],
  "mood_vacanza": [],
  "numero_partecipanti": null,
  "durata_viaggio_giorni": null,
  "budget_viaggio": null,
  "periodo_viaggio": null
}
2025-05-16 12:33:38,730 - INFO - Risposta ottenuta da Ollama: Quante persone viaggerai con me e come ti devono andare?
2025-05-16 12:33:38,730 - INFO - Risposta preparata con successo
2025-05-16 12:35:43,147 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Venezia
2025-05-16 12:35:43,147 - INFO - Template attivo: intro
2025-05-16 12:35:43,504 - INFO - vision_select_layer: -1
2025-05-16 12:35:43,504 - INFO - ps_version: v2
2025-05-16 12:35:43,505 - INFO - min_dynamic_patch: 1
2025-05-16 12:35:43,505 - INFO - max_dynamic_patch: 12
2025-05-16 12:35:44,811 - INFO - num_image_token: 256
2025-05-16 12:35:44,812 - INFO - ps_version: v2
2025-05-16 12:36:33,012 - INFO - Template modificato: True
2025-05-16 12:36:33,015 - INFO - Template aggiornato: {'nazione_destinazione': 'Italia', 'regione_citta_destinazione': 'Venezia', 'numero_partecipanti': None, 'tipo_partecipanti': [], 'periodo_viaggio': None, 'durata_viaggio_giorni': None, 'mood_vacanza': [], 'budget_viaggio': None}
2025-05-16 12:36:35,025 - WARNING - Errori nel template intro: ["Errore durante la verifica del template: 'exc_info' is an invalid keyword argument for print()"]
2025-05-16 12:36:35,026 - INFO - Stato aggiornato per il template intro
2025-05-16 12:36:35,026 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: Italia
regione_citta_destinazione: Venezia

Devi chiedere informazioni per il campo: numero_partecipanti
Frase guida di riferimento: Quante persone parteciperanno al viaggio?

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 12:36:35,028 - INFO - Template aggiornato: {
  "nazione_destinazione": "Italia",
  "regione_citta_destinazione": "Venezia",
  "numero_partecipanti": null,
  "tipo_partecipanti": [],
  "periodo_viaggio": null,
  "durata_viaggio_giorni": null,
  "mood_vacanza": [],
  "budget_viaggio": null
}
2025-05-16 12:36:52,090 - INFO - Risposta ottenuta da Ollama: Quante persone parteciperanno realmente al viaggio?
2025-05-16 12:36:52,090 - INFO - Risposta preparata con successo
2025-05-16 12:41:18,230 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Venezia
2025-05-16 12:41:18,231 - INFO - Template attivo: intro
2025-05-16 12:41:18,578 - INFO - vision_select_layer: -1
2025-05-16 12:41:18,578 - INFO - ps_version: v2
2025-05-16 12:41:18,579 - INFO - min_dynamic_patch: 1
2025-05-16 12:41:18,579 - INFO - max_dynamic_patch: 12
2025-05-16 12:41:19,815 - INFO - num_image_token: 256
2025-05-16 12:41:19,815 - INFO - ps_version: v2
2025-05-16 12:42:08,352 - INFO - Template modificato: True
2025-05-16 12:42:08,354 - INFO - Template aggiornato: {'nazione_destinazione': 'Italia', 'regione_citta_destinazione': 'Venezia', 'numero_partecipanti': None, 'tipo_partecipanti': [], 'periodo_viaggio': None, 'durata_viaggio_giorni': None, 'mood_vacanza': [], 'budget_viaggio': None}
2025-05-16 12:42:11,457 - WARNING - Errori nel template intro: ['Il numero di partecipanti deve essere un intero']
2025-05-16 12:42:11,457 - INFO - Stato aggiornato per il template intro
2025-05-16 12:42:11,457 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia

Devi chiedere informazioni per il campo: tipo_partecipanti
Frase guida di riferimento: Con chi viaggerai? (es. famiglia, coppia, amici, da solo)

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 12:42:11,459 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": [],
  "mood_vacanza": [],
  "numero_partecipanti": null,
  "durata_viaggio_giorni": null,
  "budget_viaggio": null,
  "periodo_viaggio": null
}
2025-05-16 12:43:03,602 - INFO - Risposta ottenuta da Ollama: Quale tipo di gruppo ti accompagner durante il viaggio?
2025-05-16 12:43:03,603 - INFO - Risposta preparata con successo
2025-05-16 17:16:41,233 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone 
2025-05-16 17:16:41,234 - INFO - Template attivo: intro
2025-05-16 17:16:41,615 - INFO - vision_select_layer: -1
2025-05-16 17:16:41,616 - INFO - ps_version: v2
2025-05-16 17:16:41,616 - INFO - min_dynamic_patch: 1
2025-05-16 17:16:41,616 - INFO - max_dynamic_patch: 12
2025-05-16 17:16:43,031 - INFO - num_image_token: 256
2025-05-16 17:16:43,032 - INFO - ps_version: v2
2025-05-16 17:17:36,587 - INFO - Template modificato: True
2025-05-16 17:17:36,589 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'Venezia', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'periodo_viaggio': None, 'durata_viaggio_giorni': None, 'mood_vacanza': ['mountagna', 'avventurosa'], 'budget_viaggio': None}
2025-05-16 17:17:36,589 - INFO - Durata viaggio prima della verifica: None (tipo: <class 'NoneType'>)
2025-05-16 17:17:39,459 - INFO - Durata viaggio dopo la verifica: None (tipo: <class 'NoneType'>)
2025-05-16 17:17:39,459 - WARNING - Errori nel template intro: ['Il periodo del viaggio deve essere una stringa']
2025-05-16 17:17:39,459 - INFO - Stato aggiornato per il template intro
2025-05-16 17:17:39,460 - INFO - Durata viaggio salvata nello stato: None
2025-05-16 17:17:39,460 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9

Devi chiedere informazioni per il campo: durata_viaggio_giorni
Frase guida di riferimento: Per quanti giorni vorresti rimanere?

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 17:17:39,461 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "durata_viaggio_giorni": null,
  "numero_partecipanti": 9,
  "budget_viaggio": null,
  "periodo_viaggio": null
}
2025-05-16 17:18:10,151 - INFO - Risposta ottenuta da Ollama: Quanti giorni vuoi soggiornare a Venezia?
2025-05-16 17:18:10,152 - INFO - Risposta preparata con successo
2025-05-16 17:19:02,303 - INFO - Ricevuta richiesta extract_simple con testo: a venezia vorrei soggiornare 10 giorni, e partire il 13 maggio
2025-05-16 17:19:02,303 - INFO - Template attivo: intro
2025-05-16 17:19:03,826 - INFO - vision_select_layer: -1
2025-05-16 17:19:03,842 - INFO - ps_version: v2
2025-05-16 17:19:03,843 - INFO - min_dynamic_patch: 1
2025-05-16 17:19:03,843 - INFO - max_dynamic_patch: 12
2025-05-16 17:19:05,578 - INFO - num_image_token: 256
2025-05-16 17:19:05,578 - INFO - ps_version: v2
2025-05-16 17:19:50,953 - INFO - Template modificato: True
2025-05-16 17:19:50,955 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'durata_viaggio_giorni': None, 'numero_partecipanti': 9, 'budget_viaggio': None, 'periodo_viaggio': None}
2025-05-16 17:19:50,955 - INFO - Durata viaggio prima della verifica: None (tipo: <class 'NoneType'>)
2025-05-16 17:19:52,762 - INFO - Durata viaggio dopo la verifica: None (tipo: <class 'NoneType'>)
2025-05-16 17:19:52,763 - WARNING - Errori nel template intro: ['Il periodo del viaggio deve essere una stringa']
2025-05-16 17:19:52,763 - INFO - Stato aggiornato per il template intro
2025-05-16 17:19:52,763 - INFO - Durata viaggio salvata nello stato: None
2025-05-16 17:19:52,764 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9

Devi chiedere informazioni per il campo: durata_viaggio_giorni
Frase guida di riferimento: Per quanti giorni vorresti rimanere?

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 17:19:52,765 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "durata_viaggio_giorni": null,
  "numero_partecipanti": 9,
  "budget_viaggio": null,
  "periodo_viaggio": null
}
2025-05-16 17:20:11,374 - INFO - Risposta ottenuta da Ollama: Quanti giorni vorresti spendere in Venezia per un'avventura in montagna?
2025-05-16 17:20:11,375 - INFO - Risposta preparata con successo
2025-05-16 17:34:51,285 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone
2025-05-16 17:34:51,287 - INFO - Template attivo: intro
2025-05-16 17:34:51,708 - INFO - vision_select_layer: -1
2025-05-16 17:34:51,709 - INFO - ps_version: v2
2025-05-16 17:34:51,709 - INFO - min_dynamic_patch: 1
2025-05-16 17:34:51,709 - INFO - max_dynamic_patch: 12
2025-05-16 17:34:54,308 - INFO - num_image_token: 256
2025-05-16 17:34:54,308 - INFO - ps_version: v2
2025-05-16 17:35:47,118 - INFO - Template modificato: True
2025-05-16 17:35:47,120 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'Venezia', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'periodo_viaggio': None, 'durata_viaggio_giorni': None, 'mood_vacanza': ['mountagna', 'avventurosa'], 'budget_viaggio': None}
2025-05-16 17:35:47,121 - INFO - Durata viaggio prima della verifica: None (tipo: <class 'NoneType'>)
2025-05-16 17:35:50,638 - INFO - Durata viaggio dopo la verifica: None (tipo: <class 'NoneType'>)
2025-05-16 17:35:50,638 - WARNING - Errori nel template intro: ['La durata del viaggio deve essere un intero']
2025-05-16 17:35:50,639 - INFO - Stato aggiornato per il template intro
2025-05-16 17:35:50,639 - INFO - Durata viaggio salvata nello stato: None
2025-05-16 17:35:50,639 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9

Devi chiedere informazioni per il campo: durata_viaggio_giorni
Frase guida di riferimento: Per quanti giorni vorresti rimanere?

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 17:35:50,641 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "durata_viaggio_giorni": null,
  "numero_partecipanti": 9,
  "budget_viaggio": null
}
2025-05-16 17:36:23,533 - INFO - Risposta ottenuta da Ollama: Quante giornate ti piacerebbe passare a Venezia?
2025-05-16 17:36:23,533 - INFO - Risposta preparata con successo
2025-05-16 17:36:28,666 - INFO - Ricevuta richiesta extract_simple con testo: a venezia vorrei soggiornare 10 giorni, e partire il 13 maggio
2025-05-16 17:36:28,667 - INFO - Template attivo: intro
2025-05-16 17:36:30,693 - INFO - vision_select_layer: -1
2025-05-16 17:36:30,694 - INFO - ps_version: v2
2025-05-16 17:36:30,694 - INFO - min_dynamic_patch: 1
2025-05-16 17:36:30,695 - INFO - max_dynamic_patch: 12
2025-05-16 17:36:34,307 - INFO - num_image_token: 256
2025-05-16 17:36:34,307 - INFO - ps_version: v2
2025-05-16 17:37:23,710 - INFO - Template modificato: True
2025-05-16 17:37:23,712 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'durata_viaggio_giorni': None, 'numero_partecipanti': 9, 'budget_viaggio': None, 'periodo_viaggio': None}
2025-05-16 17:37:23,712 - INFO - Durata viaggio prima della verifica: None (tipo: <class 'NoneType'>)
2025-05-16 17:37:25,130 - INFO - Durata viaggio dopo la verifica: None (tipo: <class 'NoneType'>)
2025-05-16 17:37:25,131 - WARNING - Errori nel template intro: ['La durata del viaggio deve essere un intero']
2025-05-16 17:37:25,131 - INFO - Stato aggiornato per il template intro
2025-05-16 17:37:25,131 - INFO - Durata viaggio salvata nello stato: None
2025-05-16 17:37:25,131 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9

Devi chiedere informazioni per il campo: durata_viaggio_giorni
Frase guida di riferimento: Per quanti giorni vorresti rimanere?

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 17:37:25,132 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "durata_viaggio_giorni": null,
  "numero_partecipanti": 9,
  "budget_viaggio": null
}
2025-05-16 17:37:57,285 - INFO - Risposta ottenuta da Ollama: Quanti giorni vuoi spendere a Venezia?
2025-05-16 17:37:57,286 - INFO - Risposta preparata con successo
2025-05-16 17:42:49,989 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone
2025-05-16 17:42:49,990 - INFO - Template attivo: intro
2025-05-16 17:42:50,338 - INFO - vision_select_layer: -1
2025-05-16 17:42:50,338 - INFO - ps_version: v2
2025-05-16 17:42:50,339 - INFO - min_dynamic_patch: 1
2025-05-16 17:42:50,339 - INFO - max_dynamic_patch: 12
2025-05-16 17:42:52,104 - INFO - num_image_token: 256
2025-05-16 17:42:52,104 - INFO - ps_version: v2
2025-05-16 17:43:40,772 - INFO - Template modificato: True
2025-05-16 17:43:40,773 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'Venezia', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'data_partenza': None, 'durata_viaggio': None, 'mood_vacanza': ['mountagna', 'avventurosa'], 'budget_viaggio': None}
2025-05-16 17:43:43,583 - WARNING - Errori nel template intro: ['La data di partenza deve essere una stringa']
2025-05-16 17:43:43,583 - INFO - Stato aggiornato per il template intro
2025-05-16 17:43:43,584 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9

Devi chiedere informazioni per il campo: budget_viaggio
Frase guida di riferimento: Qual è il tuo budget complessivo per il viaggio? (in euro)

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 17:43:43,584 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "numero_partecipanti": 9,
  "budget_viaggio": null,
  "data_partenza": null
}
2025-05-16 17:44:26,007 - INFO - Risposta ottenuta da Ollama: Quanto hai in mente per il tuo budget totale per il viaggio?
2025-05-16 17:44:26,008 - INFO - Risposta preparata con successo
2025-05-16 17:48:18,261 - INFO - Ricevuta richiesta extract_simple con testo: vorrei spendere 9000 euro e a venezia vorrei soggiornare 10 giorni, e partire il 13 maggio
2025-05-16 17:48:18,261 - INFO - Template attivo: intro
2025-05-16 17:48:18,629 - INFO - vision_select_layer: -1
2025-05-16 17:48:18,630 - INFO - ps_version: v2
2025-05-16 17:48:18,630 - INFO - min_dynamic_patch: 1
2025-05-16 17:48:18,631 - INFO - max_dynamic_patch: 12
2025-05-16 17:48:19,281 - INFO - num_image_token: 256
2025-05-16 17:48:19,281 - INFO - ps_version: v2
2025-05-16 17:49:02,514 - INFO - Template modificato: True
2025-05-16 17:49:02,516 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'numero_partecipanti': 9, 'budget_viaggio': 9000, 'data_partenza': None, 'durata_viaggio': None}
2025-05-16 17:49:04,450 - WARNING - Errori nel template intro: ['La data di partenza deve essere una stringa']
2025-05-16 17:49:04,450 - INFO - Stato aggiornato per il template intro
2025-05-16 17:49:04,451 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9
budget_viaggio: 9000

Devi chiedere informazioni per il campo: data_partenza
Frase guida di riferimento: Per favore, fornisci informazioni per il campo data_partenza

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 17:49:04,451 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "numero_partecipanti": 9,
  "budget_viaggio": 9000,
  "data_partenza": null
}
2025-05-16 17:49:26,870 - INFO - Risposta ottenuta da Ollama: Quando hai intenzione di partire? Per favore, indica la data di partenza per il tuo viaggio in Venetia, che sar avventuroso e montagnoso.
2025-05-16 17:49:26,870 - INFO - Risposta preparata con successo
2025-05-16 17:50:19,836 - INFO - Ricevuta richiesta extract_simple con testo: a venezia vorrei soggiornare 10 giorni, e partire il 13 maggio
2025-05-16 17:50:19,837 - INFO - Template attivo: intro
2025-05-16 17:50:20,183 - INFO - vision_select_layer: -1
2025-05-16 17:50:20,184 - INFO - ps_version: v2
2025-05-16 17:50:20,184 - INFO - min_dynamic_patch: 1
2025-05-16 17:50:20,184 - INFO - max_dynamic_patch: 12
2025-05-16 17:50:20,599 - INFO - num_image_token: 256
2025-05-16 17:50:20,600 - INFO - ps_version: v2
2025-05-16 17:51:03,354 - INFO - Template modificato: True
2025-05-16 17:51:03,356 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'numero_partecipanti': 9, 'budget_viaggio': 9000, 'data_partenza': None, 'durata_viaggio': None}
2025-05-16 17:51:05,158 - WARNING - Errori nel template intro: ['La data di partenza deve essere una stringa']
2025-05-16 17:51:05,159 - INFO - Stato aggiornato per il template intro
2025-05-16 17:51:05,160 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9
budget_viaggio: 9000

Devi chiedere informazioni per il campo: data_partenza
Frase guida di riferimento: Per favore, fornisci informazioni per il campo data_partenza

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 17:51:05,161 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "numero_partecipanti": 9,
  "budget_viaggio": 9000,
  "data_partenza": null
}
2025-05-16 17:51:50,580 - INFO - Risposta ottenuta da Ollama: Quando  il meglio per partire per godere della tua vacanza in montagna e avventurosa?
2025-05-16 17:51:50,581 - INFO - Risposta preparata con successo
2025-05-16 17:57:46,053 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone
2025-05-16 17:57:46,054 - INFO - Template attivo: intro
2025-05-16 17:57:46,411 - INFO - vision_select_layer: -1
2025-05-16 17:57:46,412 - INFO - ps_version: v2
2025-05-16 17:57:46,412 - INFO - min_dynamic_patch: 1
2025-05-16 17:57:46,412 - INFO - max_dynamic_patch: 12
2025-05-16 17:57:47,672 - INFO - num_image_token: 256
2025-05-16 17:57:47,673 - INFO - ps_version: v2
2025-05-16 17:58:42,874 - INFO - Template modificato: True
2025-05-16 17:58:42,876 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'Venezia', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'data_partenza': None, 'durata_viaggio': None, 'mood_vacanza': ['mountagna', 'avventurosa'], 'budget_viaggio': None}
2025-05-16 17:58:44,799 - WARNING - Errori nel template intro: ['La data di partenza deve essere una stringa']
2025-05-16 17:58:44,800 - INFO - Stato aggiornato per il template intro
2025-05-16 17:58:44,800 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9

Devi chiedere informazioni per il campo: durata_viaggio
Frase guida di riferimento: Per favore, fornisci informazioni per il campo durata_viaggio

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 17:58:44,801 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "durata_viaggio": null,
  "numero_partecipanti": 9,
  "budget_viaggio": null,
  "data_partenza": null
}
2025-05-16 17:59:10,163 - INFO - Risposta ottenuta da Ollama: Quante giorni ti aspetti di trascorrere in vacanza in montagna?
2025-05-16 17:59:10,164 - INFO - Risposta preparata con successo
2025-05-16 18:03:18,347 - INFO - Ricevuta richiesta extract_simple con testo: a venezia vorrei soggiornare 10 giorni, e partire il 13 maggio
2025-05-16 18:03:18,347 - INFO - Template attivo: intro
2025-05-16 18:03:18,790 - INFO - vision_select_layer: -1
2025-05-16 18:03:18,791 - INFO - ps_version: v2
2025-05-16 18:03:18,791 - INFO - min_dynamic_patch: 1
2025-05-16 18:03:18,791 - INFO - max_dynamic_patch: 12
2025-05-16 18:03:19,526 - INFO - num_image_token: 256
2025-05-16 18:03:19,526 - INFO - ps_version: v2
2025-05-16 18:04:02,734 - INFO - Template modificato: True
2025-05-16 18:04:02,736 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'durata_viaggio': None, 'numero_partecipanti': 9, 'budget_viaggio': None, 'data_partenza': None}
2025-05-16 18:04:04,680 - WARNING - Errori nel template intro: ['La data di partenza deve essere una stringa']
2025-05-16 18:04:04,680 - INFO - Stato aggiornato per il template intro
2025-05-16 18:04:04,681 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9

Devi chiedere informazioni per il campo: durata_viaggio
Frase guida di riferimento: Per favore, fornisci informazioni per il campo durata_viaggio

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 18:04:04,682 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "durata_viaggio": null,
  "numero_partecipanti": 9,
  "budget_viaggio": null,
  "data_partenza": null
}
2025-05-16 18:04:37,265 - INFO - Risposta ottenuta da Ollama: Quanti giorni vuoi dedicare al tuo viaggio?
2025-05-16 18:04:37,265 - INFO - Risposta preparata con successo
2025-05-16 18:11:49,864 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone
2025-05-16 18:11:49,865 - INFO - Template attivo: intro
2025-05-16 18:11:50,219 - INFO - vision_select_layer: -1
2025-05-16 18:11:50,220 - INFO - ps_version: v2
2025-05-16 18:11:50,220 - INFO - min_dynamic_patch: 1
2025-05-16 18:11:50,221 - INFO - max_dynamic_patch: 12
2025-05-16 18:11:51,463 - INFO - num_image_token: 256
2025-05-16 18:11:51,464 - INFO - ps_version: v2
2025-05-16 18:12:40,242 - INFO - Template modificato: True
2025-05-16 18:12:40,243 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'Venezia', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'data_partenza': None, 'durata_viaggio': None, 'mood_vacanza': ['mountagna', 'avventurosa'], 'budget_viaggio': None}
2025-05-16 18:12:42,885 - WARNING - Errori nel template intro: ['La data di partenza deve essere una stringa']
2025-05-16 18:12:42,885 - INFO - Stato aggiornato per il template intro
2025-05-16 18:12:42,886 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9

Devi chiedere informazioni per il campo: durata_viaggio
Frase guida di riferimento: Per favore, fornisci informazioni per il campo durata_viaggio

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 18:12:42,887 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "durata_viaggio": null,
  "numero_partecipanti": 9,
  "budget_viaggio": null,
  "data_partenza": null
}
2025-05-16 18:13:07,447 - INFO - Risposta ottenuta da Ollama: Quanti giorni vuoi spendere in vacanza in Veneto?
2025-05-16 18:13:07,448 - INFO - Risposta preparata con successo
2025-05-16 18:13:16,224 - INFO - Ricevuta richiesta extract_simple con testo: a venezia vorrei soggiornare 10 giorni, e partire il 13 maggio
2025-05-16 18:13:16,225 - INFO - Template attivo: intro
2025-05-16 18:13:16,606 - INFO - vision_select_layer: -1
2025-05-16 18:13:16,606 - INFO - ps_version: v2
2025-05-16 18:13:16,606 - INFO - min_dynamic_patch: 1
2025-05-16 18:13:16,610 - INFO - max_dynamic_patch: 12
2025-05-16 18:13:17,039 - INFO - num_image_token: 256
2025-05-16 18:13:17,039 - INFO - ps_version: v2
2025-05-16 18:14:00,449 - INFO - Template modificato: True
2025-05-16 18:14:00,451 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'durata_viaggio': None, 'numero_partecipanti': 9, 'budget_viaggio': None, 'data_partenza': None}
2025-05-16 18:14:02,272 - WARNING - Errori nel template intro: ['La data di partenza deve essere una stringa']
2025-05-16 18:14:02,273 - INFO - Stato aggiornato per il template intro
2025-05-16 18:14:02,273 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9

Devi chiedere informazioni per il campo: durata_viaggio
Frase guida di riferimento: Per favore, fornisci informazioni per il campo durata_viaggio

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 18:14:02,274 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "durata_viaggio": null,
  "numero_partecipanti": 9,
  "budget_viaggio": null,
  "data_partenza": null
}
2025-05-16 18:14:19,037 - INFO - Risposta ottenuta da Ollama: Quanto tempo si prevede che duri il viaggio?
2025-05-16 18:14:19,038 - INFO - Risposta preparata con successo
2025-05-16 18:18:28,620 - INFO - Ricevuta richiesta extract_simple con testo: a venezia vorrei soggiornare 10 giorni, e partire il 13 maggio 2026, con un budget di 1000 euro
2025-05-16 18:18:28,620 - INFO - Template attivo: intro
2025-05-16 18:18:28,989 - INFO - vision_select_layer: -1
2025-05-16 18:18:28,989 - INFO - ps_version: v2
2025-05-16 18:18:28,990 - INFO - min_dynamic_patch: 1
2025-05-16 18:18:28,990 - INFO - max_dynamic_patch: 12
2025-05-16 18:18:29,622 - INFO - num_image_token: 256
2025-05-16 18:18:29,623 - INFO - ps_version: v2
2025-05-16 18:19:12,341 - INFO - Template modificato: True
2025-05-16 18:19:12,342 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'durata_viaggio': None, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'data_partenza': None}
2025-05-16 18:19:14,208 - WARNING - Errori nel template intro: ['La data di partenza deve essere una stringa']
2025-05-16 18:19:14,209 - INFO - Stato aggiornato per il template intro
2025-05-16 18:19:14,209 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9
budget_viaggio: 1000

Devi chiedere informazioni per il campo: durata_viaggio
Frase guida di riferimento: Per favore, fornisci informazioni per il campo durata_viaggio

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 18:19:14,210 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "durata_viaggio": null,
  "numero_partecipanti": 9,
  "budget_viaggio": 1000,
  "data_partenza": null
}
2025-05-16 18:19:43,989 - INFO - Risposta ottenuta da Ollama: Quante giorni ti consiglio di spendere in Venezia con il budget di 1000 euro per una vacanza avventurosa?
2025-05-16 18:19:43,990 - INFO - Risposta preparata con successo
2025-05-16 18:23:10,585 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone
2025-05-16 18:23:10,585 - INFO - Template attivo: intro
2025-05-16 18:23:10,949 - INFO - vision_select_layer: -1
2025-05-16 18:23:10,950 - INFO - ps_version: v2
2025-05-16 18:23:10,950 - INFO - min_dynamic_patch: 1
2025-05-16 18:23:10,951 - INFO - max_dynamic_patch: 12
2025-05-16 18:23:12,240 - INFO - num_image_token: 256
2025-05-16 18:23:12,241 - INFO - ps_version: v2
2025-05-16 18:24:07,381 - INFO - Template modificato: True
2025-05-16 18:24:07,383 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'Venezia', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'data_partenza': None, 'durata_viaggio': None, 'mood_vacanza': ['mountagna', 'avventurosa'], 'budget_viaggio': None}
2025-05-16 18:24:10,179 - WARNING - Errori nel template intro: ['La data di partenza deve essere una stringa']
2025-05-16 18:24:10,180 - INFO - Stato aggiornato per il template intro
2025-05-16 18:24:10,181 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9

Devi chiedere informazioni per il campo: durata_viaggio
Frase guida di riferimento: Per favore, fornisci informazioni per il campo durata_viaggio

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 18:24:10,181 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "durata_viaggio": null,
  "numero_partecipanti": 9,
  "budget_viaggio": null,
  "data_partenza": null
}
2025-05-16 18:24:33,624 - INFO - Risposta ottenuta da Ollama: Quante giornate vuoi dedicare a Venezia?
2025-05-16 18:24:33,624 - INFO - Risposta preparata con successo
2025-05-16 18:25:01,294 - INFO - Ricevuta richiesta extract_simple con testo: a venezia vorrei soggiornare 10 giorni, e partire il 13 maggio 2026, con un budget di 1000 euro
2025-05-16 18:25:01,294 - INFO - Template attivo: intro
2025-05-16 18:25:02,009 - INFO - vision_select_layer: -1
2025-05-16 18:25:02,009 - INFO - ps_version: v2
2025-05-16 18:25:02,010 - INFO - min_dynamic_patch: 1
2025-05-16 18:25:02,011 - INFO - max_dynamic_patch: 12
2025-05-16 18:25:02,739 - INFO - num_image_token: 256
2025-05-16 18:25:02,740 - INFO - ps_version: v2
2025-05-16 18:25:49,472 - INFO - Template modificato: True
2025-05-16 18:25:49,512 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'durata_viaggio': None, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'data_partenza': None}
2025-05-16 18:25:57,308 - WARNING - Errori nel template intro: ['La data di partenza deve essere una stringa']
2025-05-16 18:25:57,309 - INFO - Stato aggiornato per il template intro
2025-05-16 18:25:57,395 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9
budget_viaggio: 1000

Devi chiedere informazioni per il campo: durata_viaggio
Frase guida di riferimento: Per favore, fornisci informazioni per il campo durata_viaggio

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 18:25:57,396 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "durata_viaggio": null,
  "numero_partecipanti": 9,
  "budget_viaggio": 1000,
  "data_partenza": null
}
2025-05-16 18:26:32,930 - INFO - Risposta ottenuta da Ollama: Quanto tempo ti aspetti di passare in questa vacanza in Veneto?
2025-05-16 18:26:32,930 - INFO - Risposta preparata con successo
2025-05-16 19:06:05,797 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone
2025-05-16 19:06:05,797 - INFO - Template attivo: intro
2025-05-16 19:06:06,152 - INFO - vision_select_layer: -1
2025-05-16 19:06:06,152 - INFO - ps_version: v2
2025-05-16 19:06:06,152 - INFO - min_dynamic_patch: 1
2025-05-16 19:06:06,153 - INFO - max_dynamic_patch: 12
2025-05-16 19:06:07,661 - INFO - num_image_token: 256
2025-05-16 19:06:07,661 - INFO - ps_version: v2
2025-05-16 19:07:00,304 - INFO - Template modificato: True
2025-05-16 19:07:00,306 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'Venezia', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'data_partenza': None, 'durata_viaggio': None, 'mood_vacanza': ['mountagna', 'avventurosa'], 'budget_viaggio': None}
2025-05-16 19:07:03,175 - WARNING - Errori nel template intro: ['La data di partenza deve essere una stringa']
2025-05-16 19:07:03,176 - INFO - Stato aggiornato per il template intro
2025-05-16 19:07:03,176 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9

Devi chiedere informazioni per il campo: durata_viaggio
Frase guida di riferimento: Per favore, fornisci informazioni per il campo durata_viaggio

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 19:07:03,177 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "durata_viaggio": null,
  "numero_partecipanti": 9,
  "budget_viaggio": null,
  "data_partenza": null
}
2025-05-16 19:07:27,444 - INFO - Risposta ottenuta da Ollama: Quanto tempo hai intenzione di spendere per il tuo viaggio in Veneto?
2025-05-16 19:07:27,444 - INFO - Risposta preparata con successo
2025-05-16 19:35:26,937 - INFO - Ricevuta richiesta extract_simple con testo: a venezia vorrei soggiornare 10 giorni, e partire il 13 maggio 2026, con un budget di 1000 euro
2025-05-16 19:35:26,937 - INFO - Template attivo: intro
2025-05-16 19:35:27,393 - INFO - vision_select_layer: -1
2025-05-16 19:35:27,394 - INFO - ps_version: v2
2025-05-16 19:35:27,394 - INFO - min_dynamic_patch: 1
2025-05-16 19:35:27,394 - INFO - max_dynamic_patch: 12
2025-05-16 19:35:28,169 - INFO - num_image_token: 256
2025-05-16 19:35:28,169 - INFO - ps_version: v2
2025-05-16 19:36:17,177 - INFO - Template modificato: True
2025-05-16 19:36:17,179 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'durata_viaggio': None, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'data_partenza': None}
2025-05-16 19:36:18,890 - WARNING - Errori nel template intro: ['La data di partenza deve essere una stringa']
2025-05-16 19:36:18,890 - INFO - Stato aggiornato per il template intro
2025-05-16 19:36:18,891 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9
budget_viaggio: 1000

Devi chiedere informazioni per il campo: durata_viaggio
Frase guida di riferimento: Per favore, fornisci informazioni per il campo durata_viaggio

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 19:36:18,892 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "durata_viaggio": null,
  "numero_partecipanti": 9,
  "budget_viaggio": 1000,
  "data_partenza": null
}
2025-05-16 19:36:56,334 - INFO - Risposta ottenuta da Ollama: Quante giorni ti aspetti di trascorrere in Veneto durante la tua vacanza avventurosa?
2025-05-16 19:36:56,334 - INFO - Risposta preparata con successo
2025-05-16 20:01:18,373 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone
2025-05-16 20:01:18,373 - INFO - Template attivo: intro
2025-05-16 20:01:18,739 - INFO - vision_select_layer: -1
2025-05-16 20:01:18,739 - INFO - ps_version: v2
2025-05-16 20:01:18,739 - INFO - min_dynamic_patch: 1
2025-05-16 20:01:18,740 - INFO - max_dynamic_patch: 12
2025-05-16 20:01:20,083 - INFO - num_image_token: 256
2025-05-16 20:01:20,084 - INFO - ps_version: v2
2025-05-16 20:01:30,126 - INFO - Template modificato: False
2025-05-16 20:01:30,129 - INFO - Template aggiornato: {}
2025-05-16 20:01:30,131 - WARNING - Errori nel template intro: ['La nazione di destinazione è obbligatoria']
2025-05-16 20:01:30,132 - INFO - Frase guida inviata ad Ollama: Ciao! Sono qui per aiutarti a pianificare il tuo viaggio. Per iniziare, potresti dirmi in quale paese o regione vorresti andare?
2025-05-16 20:01:30,132 - INFO - Template aggiornato: {}
2025-05-16 20:02:20,045 - INFO - Risposta ottenuta da Ollama: Ciao! Sono qui per aiutarti a pianificare il tuo viaggio. Per iniziare, potresti dirmi in quale paese o regione vorresti andare? Ad esempio, possiamo discutere di Italia, Francia, Spagna, Brasile, o qualcosa di diverso? 
2025-05-16 20:02:20,045 - INFO - Risposta preparata con successo
2025-05-16 20:02:52,825 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone
2025-05-16 20:02:52,826 - INFO - Template attivo: intro
2025-05-16 20:02:53,204 - INFO - vision_select_layer: -1
2025-05-16 20:02:53,204 - INFO - ps_version: v2
2025-05-16 20:02:53,205 - INFO - min_dynamic_patch: 1
2025-05-16 20:02:53,205 - INFO - max_dynamic_patch: 12
2025-05-16 20:02:53,626 - INFO - num_image_token: 256
2025-05-16 20:02:53,627 - INFO - ps_version: v2
2025-05-16 20:03:05,015 - INFO - Template modificato: False
2025-05-16 20:03:05,019 - INFO - Template aggiornato: {}
2025-05-16 20:03:05,021 - WARNING - Errori nel template intro: ['La nazione di destinazione è obbligatoria']
2025-05-16 20:03:05,022 - INFO - Frase guida inviata ad Ollama: Ciao! Sono qui per aiutarti a pianificare il tuo viaggio. Per iniziare, potresti dirmi in quale paese o regione vorresti andare?
2025-05-16 20:03:05,022 - INFO - Template aggiornato: {}
2025-05-16 20:03:39,769 - INFO - Risposta ottenuta da Ollama: Ciao! Per iniziare, potresti dirmi in quale paese o regione vuoi andare? Ad esempio, Italia, Francia, Giappone, Italia, o qualcosa di diverso?
2025-05-16 20:03:39,770 - INFO - Risposta preparata con successo
2025-05-16 20:06:41,521 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone
2025-05-16 20:06:41,523 - INFO - Template attivo: intro
2025-05-16 20:06:41,893 - INFO - vision_select_layer: -1
2025-05-16 20:06:41,893 - INFO - ps_version: v2
2025-05-16 20:06:41,893 - INFO - min_dynamic_patch: 1
2025-05-16 20:06:41,894 - INFO - max_dynamic_patch: 12
2025-05-16 20:06:43,347 - INFO - num_image_token: 256
2025-05-16 20:06:43,348 - INFO - ps_version: v2
2025-05-16 20:06:53,175 - INFO - Template modificato: False
2025-05-16 20:06:53,179 - INFO - Template aggiornato: {}
2025-05-16 20:06:53,182 - WARNING - Errori nel template intro: ['La nazione di destinazione è obbligatoria']
2025-05-16 20:06:53,183 - INFO - Frase guida inviata ad Ollama: Ciao! Sono qui per aiutarti a pianificare il tuo viaggio. Per iniziare, potresti dirmi in quale paese o regione vorresti andare?
2025-05-16 20:06:53,184 - INFO - Template aggiornato: {}
2025-05-16 20:07:24,353 - INFO - Risposta ottenuta da Ollama: Ciao! Per iniziare, potresti dirmi in quale paese o regione vuoi andare? Se hai un'idea specifica, posso aiutarti a pianificare dettagliativamente. Se non hai un'idea precisa, posso suggerirti alcuni luoghi popolari o cercare di aiutarti a scelgerli! 
2025-05-16 20:07:24,354 - INFO - Risposta preparata con successo
2025-05-16 20:10:05,881 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone
2025-05-16 20:10:05,882 - INFO - Template attivo: intro
2025-05-16 20:10:06,232 - INFO - vision_select_layer: -1
2025-05-16 20:10:06,233 - INFO - ps_version: v2
2025-05-16 20:10:06,233 - INFO - min_dynamic_patch: 1
2025-05-16 20:10:06,233 - INFO - max_dynamic_patch: 12
2025-05-16 20:10:07,607 - INFO - num_image_token: 256
2025-05-16 20:10:07,607 - INFO - ps_version: v2
2025-05-16 20:11:00,154 - INFO - Template modificato: True
2025-05-16 20:11:00,156 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'Venezia', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'data_partenza': None, 'durata_viaggio': None, 'mood_vacanza': ['mountagna', 'avventurosa'], 'budget_viaggio': None}
2025-05-16 20:11:03,086 - WARNING - Errori nel template intro: ['La data di partenza deve essere una stringa']
2025-05-16 20:11:03,087 - INFO - Stato aggiornato per il template intro
2025-05-16 20:11:03,087 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9

Devi chiedere informazioni per il campo: durata_viaggio
Frase guida di riferimento: Per favore, fornisci informazioni per il campo durata_viaggio

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 20:11:03,088 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "durata_viaggio": null,
  "numero_partecipanti": 9,
  "budget_viaggio": null,
  "data_partenza": null
}
2025-05-16 20:11:34,698 - INFO - Risposta ottenuta da Ollama: Quanto tempo vuoi spendere in questa vacanza in montagna e nei dintorni di Venezia?
2025-05-16 20:11:34,699 - INFO - Risposta preparata con successo
2025-05-16 20:19:25,889 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone
2025-05-16 20:19:25,889 - INFO - Template attivo: intro
2025-05-16 20:19:26,233 - INFO - vision_select_layer: -1
2025-05-16 20:19:26,233 - INFO - ps_version: v2
2025-05-16 20:19:26,233 - INFO - min_dynamic_patch: 1
2025-05-16 20:19:26,234 - INFO - max_dynamic_patch: 12
2025-05-16 20:19:27,452 - INFO - num_image_token: 256
2025-05-16 20:19:27,453 - INFO - ps_version: v2
2025-05-16 20:20:35,658 - INFO - Template modificato: True
2025-05-16 20:20:35,660 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'Venezia', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'data_partenza': {'type': 'date', 'format': 'YYYY-MM-DD', 'description': None}, 'durata_viaggio': {'type': 'integer', 'description': None, 'unit': None}, 'mood_vacanza': ['mountagna', 'avventurosa'], 'budget_viaggio': None}
2025-05-16 20:20:38,334 - WARNING - Errori nel template intro: ['La data di partenza deve essere una stringa']
2025-05-16 20:20:38,334 - INFO - Stato aggiornato per il template intro
2025-05-16 20:20:38,336 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9

Devi chiedere informazioni per il campo: durata_viaggio
Frase guida di riferimento: Per favore, fornisci informazioni per il campo durata_viaggio

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 20:20:38,336 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "durata_viaggio": null,
  "numero_partecipanti": 9,
  "budget_viaggio": null,
  "data_partenza": null
}
2025-05-16 20:21:02,398 - INFO - Risposta ottenuta da Ollama: Quante giorni pensi di rimanere a Venezia per immergerti nella natura e nell'avventura?
2025-05-16 20:21:02,399 - INFO - Risposta preparata con successo
2025-05-16 20:21:44,893 - INFO - Ricevuta richiesta extract_simple con testo: a venezia vorrei soggiornare 10 giorni, e partire il 13 maggio 2026, con un budget di 1000 euro
2025-05-16 20:21:44,894 - INFO - Template attivo: intro
2025-05-16 20:21:45,341 - INFO - vision_select_layer: -1
2025-05-16 20:21:45,341 - INFO - ps_version: v2
2025-05-16 20:21:45,342 - INFO - min_dynamic_patch: 1
2025-05-16 20:21:45,342 - INFO - max_dynamic_patch: 12
2025-05-16 20:21:46,065 - INFO - num_image_token: 256
2025-05-16 20:21:46,065 - INFO - ps_version: v2
2025-05-16 20:22:49,368 - INFO - Template modificato: True
2025-05-16 20:22:49,371 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'durata_viaggio': {'type': 'integer', 'description': 'Durata del viaggio in giorni', 'unit': 'giorni'}, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'data_partenza': {'type': 'date-time', 'format': 'date-time', 'description': 'Data di partenza del viaggio'}}
2025-05-16 20:22:54,632 - WARNING - Errori nel template intro: ['La data di partenza deve essere una stringa']
2025-05-16 20:22:54,632 - INFO - Stato aggiornato per il template intro
2025-05-16 20:22:54,633 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9
budget_viaggio: 1000

Devi chiedere informazioni per il campo: durata_viaggio
Frase guida di riferimento: Per favore, fornisci informazioni per il campo durata_viaggio

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 20:22:54,655 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "durata_viaggio": null,
  "numero_partecipanti": 9,
  "budget_viaggio": 1000,
  "data_partenza": null
}
2025-05-16 20:23:17,844 - INFO - Risposta ottenuta da Ollama: Quanti giorni ti piacerebbe che la tua vacanza in Veneto duri? E se hai un budget di 1000 euro, qual  la durata che ti sembra pi conveniente?
2025-05-16 20:23:17,845 - INFO - Risposta preparata con successo
2025-05-16 20:24:36,807 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone
2025-05-16 20:24:36,807 - INFO - Template attivo: intro
2025-05-16 20:24:37,172 - INFO - vision_select_layer: -1
2025-05-16 20:24:37,172 - INFO - ps_version: v2
2025-05-16 20:24:37,173 - INFO - min_dynamic_patch: 1
2025-05-16 20:24:37,173 - INFO - max_dynamic_patch: 12
2025-05-16 20:24:38,440 - INFO - num_image_token: 256
2025-05-16 20:24:38,441 - INFO - ps_version: v2
2025-05-16 20:25:29,664 - INFO - Template modificato: True
2025-05-16 20:25:29,666 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'Venezia', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'data_partenza': None, 'durata_viaggio': None, 'mood_vacanza': ['mountagna', 'avventurosa'], 'budget_viaggio': None}
2025-05-16 20:25:32,663 - WARNING - Errori nel template intro: ['La data di partenza deve essere una stringa']
2025-05-16 20:25:32,663 - INFO - Stato aggiornato per il template intro
2025-05-16 20:25:32,664 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9

Devi chiedere informazioni per il campo: durata_viaggio
Frase guida di riferimento: Per favore, fornisci informazioni per il campo durata_viaggio

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 20:25:32,664 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "durata_viaggio": null,
  "numero_partecipanti": 9,
  "budget_viaggio": null,
  "data_partenza": null
}
2025-05-16 20:25:52,721 - INFO - Risposta ottenuta da Ollama: Quanti giorni vuoi che passi in vacanza in montagna e con l'avventura in Veneto?
2025-05-16 20:25:52,722 - INFO - Risposta preparata con successo
2025-05-16 20:26:02,179 - INFO - Ricevuta richiesta extract_simple con testo: a venezia vorrei soggiornare 10 giorni, e partire il 13 maggio 2026, con un budget di 1000 euro
2025-05-16 20:26:02,179 - INFO - Template attivo: intro
2025-05-16 20:26:02,524 - INFO - vision_select_layer: -1
2025-05-16 20:26:02,524 - INFO - ps_version: v2
2025-05-16 20:26:02,524 - INFO - min_dynamic_patch: 1
2025-05-16 20:26:02,525 - INFO - max_dynamic_patch: 12
2025-05-16 20:26:03,169 - INFO - num_image_token: 256
2025-05-16 20:26:03,170 - INFO - ps_version: v2
2025-05-16 20:26:47,714 - INFO - Template modificato: True
2025-05-16 20:26:47,716 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'durata_viaggio': None, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'data_partenza': None}
2025-05-16 20:26:49,516 - WARNING - Errori nel template intro: ['La data di partenza deve essere una stringa']
2025-05-16 20:26:49,517 - INFO - Stato aggiornato per il template intro
2025-05-16 20:26:49,517 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9
budget_viaggio: 1000

Devi chiedere informazioni per il campo: durata_viaggio
Frase guida di riferimento: Per favore, fornisci informazioni per il campo durata_viaggio

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-16 20:26:49,518 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "durata_viaggio": null,
  "numero_partecipanti": 9,
  "budget_viaggio": 1000,
  "data_partenza": null
}
2025-05-16 20:27:09,286 - INFO - Risposta ottenuta da Ollama: Quanti giorni ti aspetti di trascorrere a Venezia e se  un soggiorno breve o lungo?
2025-05-16 20:27:09,286 - INFO - Risposta preparata con successo
2025-05-18 18:00:02,721 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone
2025-05-18 18:00:02,721 - INFO - Template attivo: intro
2025-05-18 18:00:03,168 - INFO - vision_select_layer: -1
2025-05-18 18:00:03,169 - INFO - ps_version: v2
2025-05-18 18:00:03,169 - INFO - min_dynamic_patch: 1
2025-05-18 18:00:03,169 - INFO - max_dynamic_patch: 12
2025-05-18 18:00:05,390 - INFO - num_image_token: 256
2025-05-18 18:00:05,390 - INFO - ps_version: v2
2025-05-18 18:01:13,009 - INFO - Template modificato: True
2025-05-18 18:01:13,011 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'Venezia', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'data_partenza': None, 'durata_viaggio': None, 'mood_vacanza': ['mountagna', 'avventurosa'], 'budget_viaggio': None}
2025-05-18 18:01:13,357 - WARNING - Errori nel template intro: ['Errore durante la verifica della nazione: HTTPSConnectionPool(host=\'api-atlas.nomic.ai\', port=443): Max retries exceeded with url: /v1/user (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001EAF48035E0>: Failed to resolve \'api-atlas.nomic.ai\' ([Errno 11001] getaddrinfo failed)"))', 'Errore durante la verifica della regione o città: HTTPSConnectionPool(host=\'api-atlas.nomic.ai\', port=443): Max retries exceeded with url: /v1/user (Caused by NameResolutionError("<urllib3.connection.HTTPSConnection object at 0x000001EAF4802B60>: Failed to resolve \'api-atlas.nomic.ai\' ([Errno 11001] getaddrinfo failed)"))', 'La data di partenza deve essere una stringa']
2025-05-18 18:01:13,358 - INFO - Stato aggiornato per il template intro
2025-05-18 18:01:13,358 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9

Devi chiedere informazioni per il campo: durata_viaggio
Frase guida di riferimento: Per favore, fornisci informazioni per il campo durata_viaggio

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-18 18:01:13,359 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "durata_viaggio": null,
  "numero_partecipanti": 9,
  "budget_viaggio": null,
  "data_partenza": null
}
2025-05-18 18:01:36,809 - INFO - Risposta ottenuta da Ollama: Quante giorni ti piacerebbe che durasse il tuo viaggio?
2025-05-18 18:01:36,810 - INFO - Risposta preparata con successo
2025-05-18 18:03:37,001 - INFO - Ricevuta richiesta extract_simple con testo: a venezia vorrei soggiornare 10 giorni, e partire il 13 maggio 2026, con un budget di 1000 euro
2025-05-18 18:03:37,002 - INFO - Template attivo: intro
2025-05-18 18:03:37,606 - INFO - vision_select_layer: -1
2025-05-18 18:03:37,606 - INFO - ps_version: v2
2025-05-18 18:03:37,607 - INFO - min_dynamic_patch: 1
2025-05-18 18:03:37,607 - INFO - max_dynamic_patch: 12
2025-05-18 18:03:38,919 - INFO - num_image_token: 256
2025-05-18 18:03:38,919 - INFO - ps_version: v2
2025-05-18 18:04:30,864 - INFO - Template modificato: True
2025-05-18 18:04:30,903 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'durata_viaggio': None, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'data_partenza': None}
2025-05-18 18:04:37,311 - WARNING - Errori nel template intro: ['La data di partenza deve essere una stringa']
2025-05-18 18:04:37,312 - INFO - Stato aggiornato per il template intro
2025-05-18 18:04:37,313 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa
numero_partecipanti: 9
budget_viaggio: 1000

Devi chiedere informazioni per il campo: durata_viaggio
Frase guida di riferimento: Per favore, fornisci informazioni per il campo durata_viaggio

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-18 18:04:37,314 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "durata_viaggio": null,
  "numero_partecipanti": 9,
  "budget_viaggio": 1000,
  "data_partenza": null
}
2025-05-18 18:05:13,286 - INFO - Risposta ottenuta da Ollama: Quanto tempo vuoi trascorrere a Venezia per immergerti nella montagna e nelle attivit avventurose?
2025-05-18 18:05:13,286 - INFO - Risposta preparata con successo
2025-05-18 18:09:08,251 - INFO - Ricevuta richiesta extract_simple con testo: a venezia vorrei soggiornare 10 giorni, e partire il 13 maggio 2026, con un budget di 1000 euro
2025-05-18 18:09:08,252 - INFO - Template attivo: intro
2025-05-18 18:09:08,666 - INFO - vision_select_layer: -1
2025-05-18 18:09:08,666 - INFO - ps_version: v2
2025-05-18 18:09:08,667 - INFO - min_dynamic_patch: 1
2025-05-18 18:09:08,667 - INFO - max_dynamic_patch: 12
2025-05-18 18:09:11,245 - INFO - num_image_token: 256
2025-05-18 18:09:11,246 - INFO - ps_version: v2
2025-05-18 18:10:04,423 - INFO - Template modificato: True
2025-05-18 18:10:04,425 - INFO - Template aggiornato: {'nazione_destinazione': None, 'regione_citta_destinazione': None, 'numero_partecipanti': None, 'tipo_partecipanti': [], 'data_partenza': None, 'durata_viaggio': None, 'mood_vacanza': [], 'budget_viaggio': 1000}
2025-05-18 18:10:04,428 - WARNING - Errori nel template intro: ['La nazione di destinazione è obbligatoria', 'Il numero di partecipanti deve essere un intero']
2025-05-18 18:10:04,429 - INFO - Stato aggiornato per il template intro
2025-05-18 18:10:04,429 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
budget_viaggio: 1000

Devi chiedere informazioni per il campo: nazione_destinazione
Frase guida di riferimento: Per favore, fornisci informazioni per il campo nazione_destinazione

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-18 18:10:04,430 - INFO - Template aggiornato: {
  "nazione_destinazione": null,
  "regione_citta_destinazione": null,
  "tipo_partecipanti": [],
  "mood_vacanza": [],
  "durata_viaggio": null,
  "numero_partecipanti": null,
  "budget_viaggio": 1000,
  "data_partenza": null
}
2025-05-18 18:10:27,917 - INFO - Risposta ottenuta da Ollama: Quali sono i principali attrattori turistici del paese che stai cercando di visitare?
2025-05-18 18:10:27,917 - INFO - Risposta preparata con successo
2025-05-18 18:16:14,108 - INFO - Ricevuta richiesta extract_simple con testo: vorrei partire il 13 maggio per il mio viaggio in veneto, con un budget di 1000 euro
2025-05-18 18:16:14,109 - INFO - Template attivo: intro
2025-05-18 18:16:14,458 - INFO - vision_select_layer: -1
2025-05-18 18:16:14,459 - INFO - ps_version: v2
2025-05-18 18:16:14,459 - INFO - min_dynamic_patch: 1
2025-05-18 18:16:14,459 - INFO - max_dynamic_patch: 12
2025-05-18 18:16:16,034 - INFO - num_image_token: 256
2025-05-18 18:16:16,034 - INFO - ps_version: v2
2025-05-18 18:16:50,705 - INFO - Template modificato: True
2025-05-18 18:16:50,706 - INFO - Template aggiornato: {'destinazione': 'veneto', 'numero_partecipanti': None, 'data_partenza': '2023-05-13', 'data_ritorno': None, 'budget_viaggio': 1000}
2025-05-18 18:16:50,709 - WARNING - Errori nel template intro: ['La nazione di destinazione è obbligatoria', 'Il numero di partecipanti deve essere un intero']
2025-05-18 18:16:50,709 - INFO - Stato aggiornato per il template intro
2025-05-18 18:16:50,710 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
budget_viaggio: 1000
data_partenza: 2023-05-13

Devi chiedere informazioni per il campo: numero_partecipanti
Frase guida di riferimento: Quante persone parteciperanno al viaggio?

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-18 18:16:50,710 - INFO - Template aggiornato: {
  "numero_partecipanti": null,
  "budget_viaggio": 1000,
  "data_partenza": "2023-05-13"
}
2025-05-18 18:18:40,336 - INFO - Risposta ottenuta da Ollama: Quanti partecipanti saranno inclusi nel viaggio?
2025-05-18 18:18:40,337 - INFO - Risposta preparata con successo
2025-05-18 18:23:53,482 - INFO - Ricevuta richiesta extract_simple con testo: vorrei partire il 13 maggio per il mio viaggio in veneto, con un budget di 1000 euro
2025-05-18 18:23:53,482 - INFO - Template attivo: intro
2025-05-18 18:23:53,839 - INFO - vision_select_layer: -1
2025-05-18 18:23:53,839 - INFO - ps_version: v2
2025-05-18 18:23:53,839 - INFO - min_dynamic_patch: 1
2025-05-18 18:23:53,840 - INFO - max_dynamic_patch: 12
2025-05-18 18:23:55,364 - INFO - num_image_token: 256
2025-05-18 18:23:55,364 - INFO - ps_version: v2
2025-05-18 18:24:39,077 - INFO - Template modificato: True
2025-05-18 18:24:39,077 - INFO - Template aggiornato: {'nazione_destinazione': None, 'regione_citta_destinazione': 'veneto', 'data_partenza': None, 'numero_partecipanti': None, 'tipo_partecipanti': [], 'mood_vacanza': [], 'budget_viaggio': 1000, 'durata_viaggio': None}
2025-05-18 18:24:40,932 - WARNING - Errori nel template intro: ['La nazione di destinazione è obbligatoria', 'Il numero di partecipanti deve essere un intero']
2025-05-18 18:24:40,933 - INFO - Stato aggiornato per il template intro
2025-05-18 18:24:40,934 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
regione_citta_destinazione: veneto
budget_viaggio: 1000

Devi chiedere informazioni per il campo: nazione_destinazione
Frase guida di riferimento: Per favore, fornisci informazioni per il campo nazione_destinazione

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-18 18:24:40,934 - INFO - Template aggiornato: {
  "nazione_destinazione": null,
  "regione_citta_destinazione": "veneto",
  "tipo_partecipanti": [],
  "mood_vacanza": [],
  "durata_viaggio": null,
  "numero_partecipanti": null,
  "budget_viaggio": 1000,
  "data_partenza": null
}
2025-05-18 18:25:03,424 - INFO - Risposta ottenuta da Ollama: Quale paese o nazione ti  piaciuto di pi in Veneto?
2025-05-18 18:25:03,424 - INFO - Risposta preparata con successo
2025-05-18 18:26:49,939 - INFO - Ricevuta richiesta extract_simple con testo: vorrei partire il 13 maggio per il mio viaggio in veneto, con un budget di 1000 euro
2025-05-18 18:26:49,940 - INFO - Template attivo: intro
2025-05-18 18:26:50,289 - INFO - vision_select_layer: -1
2025-05-18 18:26:50,289 - INFO - ps_version: v2
2025-05-18 18:26:50,290 - INFO - min_dynamic_patch: 1
2025-05-18 18:26:50,290 - INFO - max_dynamic_patch: 12
2025-05-18 18:26:51,678 - INFO - num_image_token: 256
2025-05-18 18:26:51,679 - INFO - ps_version: v2
2025-05-18 18:27:33,863 - INFO - Template modificato: True
2025-05-18 18:27:33,865 - INFO - Template aggiornato: {'nazione_destinazione': None, 'regione_citta_destinazione': 'veneto', 'data_partenza': None, 'numero_partecipanti': None, 'tipo_partecipanti': [], 'mood_vacanza': [], 'durata_viaggio': None}
2025-05-18 18:27:35,828 - WARNING - Errori nel template intro: ['La nazione di destinazione è obbligatoria', 'Il numero di partecipanti deve essere un intero']
2025-05-18 18:27:35,829 - INFO - Stato aggiornato per il template intro
2025-05-18 18:27:35,830 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
regione_citta_destinazione: veneto

Devi chiedere informazioni per il campo: nazione_destinazione
Frase guida di riferimento: Per favore, fornisci informazioni per il campo nazione_destinazione

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-18 18:27:35,830 - INFO - Template aggiornato: {
  "nazione_destinazione": null,
  "regione_citta_destinazione": "veneto",
  "tipo_partecipanti": [],
  "mood_vacanza": [],
  "durata_viaggio": null,
  "numero_partecipanti": null,
  "data_partenza": null
}
2025-05-18 18:27:56,551 - INFO - Risposta ottenuta da Ollama: Qual  il nome del paese in cui ti trovi?
2025-05-18 18:27:56,551 - INFO - Risposta preparata con successo
2025-05-18 18:34:18,256 - INFO - Ricevuta richiesta extract_simple con testo: vorrei partire il 13 maggio per il mio viaggio in veneto, con un budget di 1000 euro
2025-05-18 18:34:18,257 - INFO - Template attivo: intro
2025-05-18 18:34:19,073 - INFO - vision_select_layer: -1
2025-05-18 18:34:19,073 - INFO - ps_version: v2
2025-05-18 18:34:19,074 - INFO - min_dynamic_patch: 1
2025-05-18 18:34:19,074 - INFO - max_dynamic_patch: 12
2025-05-18 18:34:20,673 - INFO - num_image_token: 256
2025-05-18 18:34:20,673 - INFO - ps_version: v2
2025-05-18 18:37:32,968 - INFO - Template modificato: True
2025-05-18 18:37:33,059 - INFO - Template aggiornato: {'nazione_destinazione': 'Veneto', 'regione_citta_destinazione': None, 'data_partenza': '2023-05-13', 'numero_partecipanti': None, 'tipo_partecipanti': [], 'mood_vacanza': [], 'budget_viaggio': 1000, 'durata_viaggio': None}
2025-05-18 18:37:37,865 - WARNING - Errori nel template intro: ['Nessuna nazione simile trovata nel database', 'Il numero di partecipanti deve essere un intero']
2025-05-18 18:37:37,865 - INFO - Stato aggiornato per il template intro
2025-05-18 18:37:37,866 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
budget_viaggio: 1000
data_partenza: 2023-05-13

Devi chiedere informazioni per il campo: nazione_destinazione
Frase guida di riferimento: Per favore, fornisci informazioni per il campo nazione_destinazione

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-18 18:37:37,867 - INFO - Template aggiornato: {
  "nazione_destinazione": null,
  "regione_citta_destinazione": null,
  "tipo_partecipanti": [],
  "mood_vacanza": [],
  "durata_viaggio": null,
  "numero_partecipanti": null,
  "budget_viaggio": 1000,
  "data_partenza": "2023-05-13"
}
2025-05-18 18:38:37,585 - INFO - Risposta ottenuta da Ollama: Quale nazione intendi per destinazione?
2025-05-18 18:38:37,589 - INFO - Risposta preparata con successo
2025-05-18 18:39:05,704 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone, staremo in vacanza per 10 giorni
2025-05-18 18:39:05,707 - INFO - Template attivo: intro
2025-05-18 18:39:06,459 - INFO - vision_select_layer: -1
2025-05-18 18:39:06,459 - INFO - ps_version: v2
2025-05-18 18:39:06,459 - INFO - min_dynamic_patch: 1
2025-05-18 18:39:06,460 - INFO - max_dynamic_patch: 12
2025-05-18 18:39:07,260 - INFO - num_image_token: 256
2025-05-18 18:39:07,261 - INFO - ps_version: v2
2025-05-18 18:43:34,063 - INFO - Template modificato: True
2025-05-18 18:43:34,069 - INFO - Template aggiornato: {'nazione_destinazione': 'Italia', 'regione_citta_destinazione': 'Venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['montagna', 'avventura'], 'durata_viaggio': 10, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'data_partenza': '2023-05-13'}
2025-05-18 18:43:36,175 - INFO - Stato aggiornato per il template intro
2025-05-18 18:43:36,177 - INFO - Frase guida inviata ad Ollama: Tutti i campi sono stati compilati.
2025-05-18 18:43:36,178 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "montagna",
    "avventura"
  ],
  "durata_viaggio": 10,
  "numero_partecipanti": 9,
  "budget_viaggio": 1000,
  "data_partenza": "2026-05-13"
}
2025-05-18 18:44:09,079 - INFO - Risposta ottenuta da Ollama: Grazie per aver compilato tutti i campi! Se hai bisogno di aiuto aggiuntivo, non esitare a chiedere.
2025-05-18 18:44:09,091 - INFO - Template intro completato
2025-05-18 18:44:09,092 - INFO - Template intro completato, chiamata a evaluate_preferences
2025-05-18 18:44:09,149 - ERROR - Errore in extract_simple: 2 validation errors for TravelPreferenceRequest
destinazione_generica
  Field required [type=missing, input_value={'nazione_destinazione': ...partenza': '2026-05-13'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
localita_specifica
  Field required [type=missing, input_value={'nazione_destinazione': ...partenza': '2026-05-13'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 189, in extract_simple
    preference_request = TravelPreferenceRequest(**template_aggiornato)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 2 validation errors for TravelPreferenceRequest
destinazione_generica
  Field required [type=missing, input_value={'nazione_destinazione': ...partenza': '2026-05-13'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
localita_specifica
  Field required [type=missing, input_value={'nazione_destinazione': ...partenza': '2026-05-13'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-18 19:09:13,482 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone, staremo in vacanza per 10 giorni
2025-05-18 19:09:13,482 - INFO - Template attivo: intro
2025-05-18 19:09:13,844 - INFO - vision_select_layer: -1
2025-05-18 19:09:13,845 - INFO - ps_version: v2
2025-05-18 19:09:13,845 - INFO - min_dynamic_patch: 1
2025-05-18 19:09:13,846 - INFO - max_dynamic_patch: 12
2025-05-18 19:09:15,652 - INFO - num_image_token: 256
2025-05-18 19:09:15,652 - INFO - ps_version: v2
2025-05-18 19:10:25,889 - INFO - Template modificato: True
2025-05-18 19:10:25,890 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'Venezia', 'destinazione_generica': None, 'localita_specifica': None, 'data_partenza': None, 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa', 'cultura'], 'budget_viaggio': None, 'durata_viaggio': '10'}
2025-05-18 19:10:28,612 - WARNING - Errori nel template intro: ['La data di partenza deve essere una stringa']
2025-05-18 19:10:28,612 - INFO - Stato aggiornato per il template intro
2025-05-18 19:10:28,612 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa, cultura
durata_viaggio: 10
numero_partecipanti: 9

Devi chiedere informazioni per il campo: budget_viaggio
Frase guida di riferimento: Qual è il tuo budget complessivo per il viaggio? (in euro)

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-18 19:10:28,613 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa",
    "cultura"
  ],
  "durata_viaggio": 10,
  "numero_partecipanti": 9,
  "budget_viaggio": null,
  "data_partenza": null
}
2025-05-18 19:11:13,340 - INFO - Risposta ottenuta da Ollama: Quanto ti piacerebbe spendere in totale per il viaggio?
2025-05-18 19:12:12,315 - INFO - Ricevuta richiesta extract_simple con testo: vorrei partire il 13 maggio per il mio viaggio in veneto, con un budget di 1000 euro
2025-05-18 19:12:12,315 - INFO - Template attivo: intro
2025-05-18 19:12:14,785 - INFO - vision_select_layer: -1
2025-05-18 19:12:14,785 - INFO - ps_version: v2
2025-05-18 19:12:14,786 - INFO - min_dynamic_patch: 1
2025-05-18 19:12:14,787 - INFO - max_dynamic_patch: 12
2025-05-18 19:12:15,429 - INFO - num_image_token: 256
2025-05-18 19:12:15,429 - INFO - ps_version: v2
2025-05-18 19:13:13,553 - INFO - Template modificato: True
2025-05-18 19:13:13,556 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa', 'cultura'], 'durata_viaggio': 10, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'data_partenza': None, 'destinazione_generica': None, 'localita_specifica': None}
2025-05-18 19:13:15,443 - WARNING - Errori nel template intro: ['La data di partenza deve essere una stringa']
2025-05-18 19:13:15,443 - INFO - Stato aggiornato per il template intro
2025-05-18 19:13:15,444 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa, cultura
durata_viaggio: 10
numero_partecipanti: 9
budget_viaggio: 1000

Devi chiedere informazioni per il campo: data_partenza
Frase guida di riferimento: Per favore, fornisci informazioni per il campo data_partenza

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-18 19:13:15,445 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa",
    "cultura"
  ],
  "durata_viaggio": 10,
  "numero_partecipanti": 9,
  "budget_viaggio": 1000,
  "data_partenza": null
}
2025-05-18 19:13:44,588 - INFO - Risposta ottenuta da Ollama: Quando ti sposti per andare a Venezia?
2025-05-18 19:19:55,081 - INFO - Ricevuta richiesta extract_simple con testo: vorrei partire per andare a venezia il 12 maggio
2025-05-18 19:19:55,081 - INFO - Template attivo: intro
2025-05-18 19:19:55,447 - INFO - vision_select_layer: -1
2025-05-18 19:19:55,448 - INFO - ps_version: v2
2025-05-18 19:19:55,448 - INFO - min_dynamic_patch: 1
2025-05-18 19:19:55,449 - INFO - max_dynamic_patch: 12
2025-05-18 19:19:56,245 - INFO - num_image_token: 256
2025-05-18 19:19:56,245 - INFO - ps_version: v2
2025-05-18 19:20:45,867 - INFO - Template modificato: True
2025-05-18 19:20:45,868 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa', 'cultura'], 'durata_viaggio': 10, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'data_partenza': None, 'destinazione_generica': None, 'localita_specifica': None}
2025-05-18 19:20:47,620 - WARNING - Errori nel template intro: ['La data di partenza deve essere una stringa']
2025-05-18 19:20:47,620 - INFO - Stato aggiornato per il template intro
2025-05-18 19:20:47,621 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa, cultura
durata_viaggio: 10
numero_partecipanti: 9
budget_viaggio: 1000

Devi chiedere informazioni per il campo: data_partenza
Frase guida di riferimento: Per favore, fornisci informazioni per il campo data_partenza

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-18 19:20:47,621 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa",
    "cultura"
  ],
  "durata_viaggio": 10,
  "numero_partecipanti": 9,
  "budget_viaggio": 1000,
  "data_partenza": null
}
2025-05-18 19:21:28,777 - INFO - Risposta ottenuta da Ollama: Quando vuoi partire? Posso aiutarti a fissare la data di partenza per un'esperienza avventurosa e culturale in Venezia, con un tempo di viaggio di 10 giorni e un budget di 1000 euro?
2025-05-18 19:29:02,875 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone, vorrei partire il 10 maggio, staremo in vacanza per 10 giorni
2025-05-18 19:29:02,875 - INFO - Template attivo: intro
2025-05-18 19:29:03,237 - INFO - vision_select_layer: -1
2025-05-18 19:29:03,237 - INFO - ps_version: v2
2025-05-18 19:29:03,238 - INFO - min_dynamic_patch: 1
2025-05-18 19:29:03,238 - INFO - max_dynamic_patch: 12
2025-05-18 19:29:04,926 - INFO - num_image_token: 256
2025-05-18 19:29:04,926 - INFO - ps_version: v2
2025-05-18 19:29:58,069 - INFO - Template modificato: True
2025-05-18 19:29:58,070 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'Venezia', 'departure_date': '2023-05-10', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa', 'cultura'], 'budget_viaggio': None, 'trip_duration': 10}
2025-05-18 19:30:00,739 - WARNING - Errori nel template intro: ['Il budget del viaggio deve essere un intero']
2025-05-18 19:30:00,739 - INFO - Stato aggiornato per il template intro
2025-05-18 19:30:00,740 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
regione_citta_destinazione: venezia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa, cultura
trip_duration: 10
numero_partecipanti: 9
departure_date: 2026-05-10

Devi chiedere informazioni per il campo: budget_viaggio
Frase guida di riferimento: Qual è il tuo budget complessivo per il viaggio? (in euro)

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-18 19:30:00,741 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa",
    "cultura"
  ],
  "trip_duration": 10,
  "numero_partecipanti": 9,
  "budget_viaggio": null,
  "departure_date": "2026-05-10"
}
2025-05-18 19:30:42,008 - INFO - Risposta ottenuta da Ollama: Quanto ti aspetti di spendere in totale per il tuo viaggio?
2025-05-18 19:33:36,757 - INFO - Ricevuta richiesta extract_simple con testo: ho un budget di 1000 euro
2025-05-18 19:33:36,757 - INFO - Template attivo: intro
2025-05-18 19:33:37,140 - INFO - vision_select_layer: -1
2025-05-18 19:33:37,140 - INFO - ps_version: v2
2025-05-18 19:33:37,140 - INFO - min_dynamic_patch: 1
2025-05-18 19:33:37,141 - INFO - max_dynamic_patch: 12
2025-05-18 19:33:37,794 - INFO - num_image_token: 256
2025-05-18 19:33:37,795 - INFO - ps_version: v2
2025-05-18 19:34:19,738 - INFO - Template modificato: True
2025-05-18 19:34:19,741 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa', 'cultura'], 'trip_duration': 10, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'departure_date': '2026-05-10'}
2025-05-18 19:34:21,628 - INFO - Stato aggiornato per il template intro
2025-05-18 19:34:21,629 - INFO - Template intro completato
2025-05-18 19:34:21,629 - INFO - Template intro completato, chiamata a evaluate_preferences
2025-05-18 19:34:21,644 - ERROR - Errore in extract_simple: 2 validation errors for TravelPreferenceRequest
data_partenza
  Field required [type=missing, input_value={'nazione_destinazione': ...ure_date': '2026-05-10'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
durata_viaggio
  Field required [type=missing, input_value={'nazione_destinazione': ...ure_date': '2026-05-10'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 168, in extract_simple
    preference_request = TravelPreferenceRequest(**template_aggiornato)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\pydantic\main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 2 validation errors for TravelPreferenceRequest
data_partenza
  Field required [type=missing, input_value={'nazione_destinazione': ...ure_date': '2026-05-10'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
durata_viaggio
  Field required [type=missing, input_value={'nazione_destinazione': ...ure_date': '2026-05-10'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-05-18 19:49:42,757 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone, vorrei partire il 10 maggio, staremo in vacanza per 10 giorni, ho un budget di 1000 euro
2025-05-18 19:49:42,757 - INFO - Template attivo: intro
2025-05-18 19:49:43,113 - INFO - vision_select_layer: -1
2025-05-18 19:49:43,113 - INFO - ps_version: v2
2025-05-18 19:49:43,114 - INFO - min_dynamic_patch: 1
2025-05-18 19:49:43,114 - INFO - max_dynamic_patch: 12
2025-05-18 19:49:45,086 - INFO - num_image_token: 256
2025-05-18 19:49:45,086 - INFO - ps_version: v2
2025-05-18 19:50:40,887 - INFO - Template modificato: True
2025-05-18 19:50:40,888 - INFO - Template aggiornato: {'nazione_destinazione': 'Venezia', 'regione_citta_destinazione': 'Montagna', 'departure_date': '2023-05-10', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa', 'cultura'], 'budget_viaggio': 1000, 'trip_duration': 10}
2025-05-18 19:50:43,498 - WARNING - Errori nel template intro: ['Nessuna regione o città simile trovata nel database']
2025-05-18 19:50:43,499 - INFO - Stato aggiornato per il template intro
2025-05-18 19:50:43,499 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa, cultura
trip_duration: 10
numero_partecipanti: 9
budget_viaggio: 1000
departure_date: 2026-05-10

Devi chiedere informazioni per il campo: regione_citta_destinazione
Frase guida di riferimento: Per favore, fornisci informazioni per il campo regione_citta_destinazione

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-18 19:50:43,500 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": null,
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa",
    "cultura"
  ],
  "trip_duration": 10,
  "numero_partecipanti": 9,
  "budget_viaggio": 1000,
  "departure_date": "2026-05-10"
}
2025-05-18 19:51:14,433 - INFO - Risposta ottenuta da Ollama: C una regione o una citt in Italia che ti piacerebbe visitare per godersi le montagne, gli spostamenti avventurosi e la cultura? Posso aiutarti a scegliere un destino che si adatti al tuo budget e alle tue preferite!
2025-05-18 20:11:11,889 - INFO - Ricevuta richiesta extract_simple con testo: vorrei visitare venezia
2025-05-18 20:11:11,890 - INFO - Template attivo: intro
2025-05-18 20:11:12,315 - INFO - vision_select_layer: -1
2025-05-18 20:11:12,316 - INFO - ps_version: v2
2025-05-18 20:11:12,316 - INFO - min_dynamic_patch: 1
2025-05-18 20:11:12,316 - INFO - max_dynamic_patch: 12
2025-05-18 20:11:13,020 - INFO - num_image_token: 256
2025-05-18 20:11:13,020 - INFO - ps_version: v2
2025-05-18 20:11:55,266 - INFO - Template modificato: True
2025-05-18 20:11:55,267 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': None, 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa', 'cultura'], 'trip_duration': 10, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'departure_date': '2026-05-10'}
2025-05-18 20:11:56,323 - INFO - Stato aggiornato per il template intro
2025-05-18 20:11:56,324 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa, cultura
trip_duration: 10
numero_partecipanti: 9
budget_viaggio: 1000
departure_date: 2026-05-10

Devi chiedere informazioni per il campo: regione_citta_destinazione
Frase guida di riferimento: Per favore, fornisci informazioni per il campo regione_citta_destinazione

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-18 20:11:56,326 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": null,
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa",
    "cultura"
  ],
  "trip_duration": 10,
  "numero_partecipanti": 9,
  "budget_viaggio": 1000,
  "departure_date": "2026-05-10"
}
2025-05-18 20:12:41,350 - INFO - Risposta ottenuta da Ollama: Cosa sono le migliori regioni in Italia per una vacanza in montagna, avventurosa e culturale con un budget di 1000 euro per 9 persone in 10 giorni?
2025-05-18 20:13:11,475 - INFO - Ricevuta richiesta extract_simple con testo: come città che voglio visitare, vorrei visitare Venezia
2025-05-18 20:13:11,476 - INFO - Template attivo: intro
2025-05-18 20:13:11,847 - INFO - vision_select_layer: -1
2025-05-18 20:13:11,848 - INFO - ps_version: v2
2025-05-18 20:13:11,848 - INFO - min_dynamic_patch: 1
2025-05-18 20:13:11,848 - INFO - max_dynamic_patch: 12
2025-05-18 20:13:12,669 - INFO - num_image_token: 256
2025-05-18 20:13:12,670 - INFO - ps_version: v2
2025-05-18 20:13:56,095 - INFO - Template modificato: True
2025-05-18 20:13:56,097 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'Venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa', 'cultura'], 'trip_duration': 10, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'departure_date': '2026-05-10'}
2025-05-18 20:13:58,047 - INFO - Stato aggiornato per il template intro
2025-05-18 20:13:58,048 - INFO - Template intro completato
2025-05-18 20:13:58,048 - INFO - Template intro completato, chiamata a evaluate_preferences
2025-05-18 20:13:58,056 - INFO - Inizio valutazione preferenze
2025-05-18 20:14:02,178 - ERROR - Errore in evaluate_preferences: Errore nella comunicazione con il servizio Drools: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001840651E830>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 493, in _make_request
    conn.request(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 445, in request
    self.endheaders()
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 1278, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 1038, in _send_output
    self.send(msg)
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 976, in send
    self.connect()
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 276, in connect
    self.sock = self._new_conn()
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 213, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x000001840651E830>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001840651E830>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 21, in evaluate_preferences
    response = requests.post(DROOLS_SERVICE_URL, json=preferences)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\adapters.py", line 700, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001840651E830>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 261, in evaluate_preferences
    active_templates = await DroolsService.evaluate_preferences(preference_json)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 25, in evaluate_preferences
    raise Exception(f"Errore nella comunicazione con il servizio Drools: {str(e)}")
Exception: Errore nella comunicazione con il servizio Drools: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001840651E830>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))
2025-05-18 20:14:02,491 - ERROR - Errore in extract_simple: 500: Errore nella comunicazione con il servizio Drools: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001840651E830>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 493, in _make_request
    conn.request(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 445, in request
    self.endheaders()
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 1278, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 1038, in _send_output
    self.send(msg)
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 976, in send
    self.connect()
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 276, in connect
    self.sock = self._new_conn()
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 213, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x000001840651E830>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001840651E830>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 21, in evaluate_preferences
    response = requests.post(DROOLS_SERVICE_URL, json=preferences)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\adapters.py", line 700, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001840651E830>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 261, in evaluate_preferences
    active_templates = await DroolsService.evaluate_preferences(preference_json)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 25, in evaluate_preferences
    raise Exception(f"Errore nella comunicazione con il servizio Drools: {str(e)}")
Exception: Errore nella comunicazione con il servizio Drools: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001840651E830>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 170, in extract_simple
    await evaluate_preferences(preference_request)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 285, in evaluate_preferences
    raise HTTPException(status_code=500, detail=str(e))
fastapi.exceptions.HTTPException: 500: Errore nella comunicazione con il servizio Drools: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000001840651E830>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))
2025-05-19 10:25:13,513 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare l'italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone, vorrei partire il 10 maggio, staremo in vacanza per 10 giorni, ho un budget di 1000 euro
2025-05-19 10:25:13,514 - INFO - Template attivo: intro
2025-05-19 10:25:13,938 - INFO - vision_select_layer: -1
2025-05-19 10:25:13,938 - INFO - ps_version: v2
2025-05-19 10:25:13,939 - INFO - min_dynamic_patch: 1
2025-05-19 10:25:13,939 - INFO - max_dynamic_patch: 12
2025-05-19 10:25:16,351 - INFO - num_image_token: 256
2025-05-19 10:25:16,352 - INFO - ps_version: v2
2025-05-19 10:26:27,872 - INFO - Template modificato: True
2025-05-19 10:26:27,875 - INFO - Template aggiornato: {'nazione_destinazione': 'Venezia', 'regione_citta_destinazione': 'Montagna', 'departure_date': '2023-05-10', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa', 'cultura'], 'budget_viaggio': 1000, 'trip_duration': 10}
2025-05-19 10:26:30,349 - WARNING - Errori nel template intro: ['Nessuna regione o città simile trovata nel database']
2025-05-19 10:26:30,353 - INFO - Stato aggiornato per il template intro
2025-05-19 10:26:30,355 - INFO - Frase guida inviata ad Ollama: Sei un assistente di viaggio esperto e cordiale. Il tuo compito è fare domande per raccogliere informazioni sul viaggio.

Contesto attuale:
nazione_destinazione: italia
tipo_partecipanti: adulti
mood_vacanza: mountagna, avventurosa, cultura
trip_duration: 10
numero_partecipanti: 9
budget_viaggio: 1000
departure_date: 2026-05-10

Devi chiedere informazioni per il campo: regione_citta_destinazione
Frase guida di riferimento: Per favore, fornisci informazioni per il campo regione_citta_destinazione

IMPORTANTE: NON ripetere la frase guida. Invece, formula una domanda naturale e conversazionale basata sulla frase guida.
La domanda deve essere:
- In italiano
- Diretta e specifica
- Naturale e conversazionale
- Pertinente al contesto fornito

Ora, formula la tua domanda:
2025-05-19 10:26:30,357 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": null,
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa",
    "cultura"
  ],
  "trip_duration": 10,
  "numero_partecipanti": 9,
  "budget_viaggio": 1000,
  "departure_date": "2026-05-10"
}
2025-05-19 10:27:04,252 - INFO - Risposta ottenuta da Ollama: Cosa ti piacerebbero visitare in una regione montuosa e avventurosa, come la Val di Fassa o la Dolomites, per un'escursione di 10 giorni con budget di 1000 euro?
2025-05-19 10:27:39,473 - INFO - Ricevuta richiesta extract_simple con testo: in Italia vorrei visitare Trento 
2025-05-19 10:27:39,473 - INFO - Template attivo: intro
2025-05-19 10:27:39,943 - INFO - vision_select_layer: -1
2025-05-19 10:27:39,944 - INFO - ps_version: v2
2025-05-19 10:27:39,944 - INFO - min_dynamic_patch: 1
2025-05-19 10:27:39,944 - INFO - max_dynamic_patch: 12
2025-05-19 10:27:40,634 - INFO - num_image_token: 256
2025-05-19 10:27:40,634 - INFO - ps_version: v2
2025-05-19 10:28:26,390 - INFO - Template modificato: True
2025-05-19 10:28:26,392 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'Trento', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa', 'cultura'], 'trip_duration': 10, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'departure_date': '2026-05-10'}
2025-05-19 10:28:30,532 - INFO - Stato aggiornato per il template intro
2025-05-19 10:28:30,532 - INFO - Template intro completato
2025-05-19 10:28:30,533 - INFO - Template intro completato, chiamata a evaluate_preferences
2025-05-19 10:28:30,540 - INFO - Inizio valutazione preferenze
2025-05-19 10:28:31,284 - ERROR - Errore in evaluate_preferences: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 22, in evaluate_preferences
    response.raise_for_status()  # Solleva un'eccezione per codici di errore HTTP
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 261, in evaluate_preferences
    active_templates = await DroolsService.evaluate_preferences(preference_json)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 25, in evaluate_preferences
    raise Exception(f"Errore nella comunicazione con il servizio Drools: {str(e)}")
Exception: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate
2025-05-19 10:28:31,459 - ERROR - Errore in extract_simple: 500: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 22, in evaluate_preferences
    response.raise_for_status()  # Solleva un'eccezione per codici di errore HTTP
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 261, in evaluate_preferences
    active_templates = await DroolsService.evaluate_preferences(preference_json)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 25, in evaluate_preferences
    raise Exception(f"Errore nella comunicazione con il servizio Drools: {str(e)}")
Exception: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 170, in extract_simple
    await evaluate_preferences(preference_request)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 285, in evaluate_preferences
    raise HTTPException(status_code=500, detail=str(e))
fastapi.exceptions.HTTPException: 500: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate
2025-05-19 10:34:58,359 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare Italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone, vorrei partire il 10 maggio, staremo in vacanza per 10 giorni, ho un budget di 1000 euro
2025-05-19 10:34:58,360 - INFO - Template attivo: intro
2025-05-19 10:34:58,708 - INFO - vision_select_layer: -1
2025-05-19 10:34:58,708 - INFO - ps_version: v2
2025-05-19 10:34:58,709 - INFO - min_dynamic_patch: 1
2025-05-19 10:34:58,709 - INFO - max_dynamic_patch: 12
2025-05-19 10:35:00,296 - INFO - num_image_token: 256
2025-05-19 10:35:00,296 - INFO - ps_version: v2
2025-05-19 10:35:52,517 - INFO - Template modificato: True
2025-05-19 10:35:52,519 - INFO - Template aggiornato: {'nazione_destinazione': 'Italia', 'regione_citta_destinazione': 'Venezia', 'departure_date': '2023-05-10', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'budget_viaggio': 1000, 'trip_duration': 10}
2025-05-19 10:35:54,887 - INFO - Stato aggiornato per il template intro
2025-05-19 10:35:54,887 - INFO - Stato aggiornato: {"intro": {"nazione_destinazione": "italia", "regione_citta_destinazione": "venezia", "tipo_partecipanti": "adulti", "mood_vacanza": ["mountagna", "avventurosa"], "trip_duration": 10, "numero_partecipanti": 9, "budget_viaggio": 1000, "departure_date": "2026-05-10"}}
2025-05-19 10:35:54,888 - INFO - Stato aggiornato per il dato {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'trip_duration': 10, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'departure_date': '2026-05-10'}
2025-05-19 10:35:54,888 - INFO - Template intro completato
2025-05-19 10:35:54,888 - INFO - Template intro completato, chiamata a evaluate_preferences
2025-05-19 10:35:54,894 - INFO - Inizio valutazione preferenze
2025-05-19 10:35:54,936 - ERROR - Errore in evaluate_preferences: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 22, in evaluate_preferences
    response.raise_for_status()  # Solleva un'eccezione per codici di errore HTTP
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 263, in evaluate_preferences
    active_templates = await DroolsService.evaluate_preferences(preference_json)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 25, in evaluate_preferences
    raise Exception(f"Errore nella comunicazione con il servizio Drools: {str(e)}")
Exception: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate
2025-05-19 10:35:54,944 - ERROR - Errore in extract_simple: 500: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 22, in evaluate_preferences
    response.raise_for_status()  # Solleva un'eccezione per codici di errore HTTP
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 263, in evaluate_preferences
    active_templates = await DroolsService.evaluate_preferences(preference_json)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 25, in evaluate_preferences
    raise Exception(f"Errore nella comunicazione con il servizio Drools: {str(e)}")
Exception: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 172, in extract_simple
    await evaluate_preferences(preference_request)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 287, in evaluate_preferences
    raise HTTPException(status_code=500, detail=str(e))
fastapi.exceptions.HTTPException: 500: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate
2025-05-19 10:40:39,735 - INFO - Ricevuta richiesta extract_simple con testo: come città che voglio visitare, vorrei visitare Venezia
2025-05-19 10:40:39,735 - INFO - Template attivo: intro
2025-05-19 10:40:40,103 - INFO - vision_select_layer: -1
2025-05-19 10:40:40,104 - INFO - ps_version: v2
2025-05-19 10:40:40,104 - INFO - min_dynamic_patch: 1
2025-05-19 10:40:40,105 - INFO - max_dynamic_patch: 12
2025-05-19 10:40:41,768 - INFO - num_image_token: 256
2025-05-19 10:40:41,769 - INFO - ps_version: v2
2025-05-19 10:41:24,805 - INFO - Template modificato: False
2025-05-19 10:41:24,806 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'trip_duration': 10, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'departure_date': '2026-05-10'}
2025-05-19 10:41:26,100 - INFO - Template intro completato
2025-05-19 10:41:26,101 - INFO - Template intro completato, chiamata a evaluate_preferences
2025-05-19 10:41:26,107 - INFO - Inizio valutazione preferenze
2025-05-19 10:41:26,354 - ERROR - Errore in evaluate_preferences: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 22, in evaluate_preferences
    response.raise_for_status()  # Solleva un'eccezione per codici di errore HTTP
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 263, in evaluate_preferences
    active_templates = await DroolsService.evaluate_preferences(preference_json)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 25, in evaluate_preferences
    raise Exception(f"Errore nella comunicazione con il servizio Drools: {str(e)}")
Exception: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate
2025-05-19 10:41:26,357 - ERROR - Errore in extract_simple: 500: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 22, in evaluate_preferences
    response.raise_for_status()  # Solleva un'eccezione per codici di errore HTTP
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 263, in evaluate_preferences
    active_templates = await DroolsService.evaluate_preferences(preference_json)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 25, in evaluate_preferences
    raise Exception(f"Errore nella comunicazione con il servizio Drools: {str(e)}")
Exception: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 172, in extract_simple
    await evaluate_preferences(preference_request)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 287, in evaluate_preferences
    raise HTTPException(status_code=500, detail=str(e))
fastapi.exceptions.HTTPException: 500: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate
2025-05-19 10:45:38,559 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare Italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone, vorrei partire il 10 maggio, staremo in vacanza per 10 giorni, ho un budget di 1000 euro
2025-05-19 10:45:38,560 - INFO - Template attivo: intro
2025-05-19 10:45:39,324 - INFO - vision_select_layer: -1
2025-05-19 10:45:39,324 - INFO - ps_version: v2
2025-05-19 10:45:39,324 - INFO - min_dynamic_patch: 1
2025-05-19 10:45:39,325 - INFO - max_dynamic_patch: 12
2025-05-19 10:45:43,596 - INFO - num_image_token: 256
2025-05-19 10:45:43,597 - INFO - ps_version: v2
2025-05-19 10:46:36,747 - INFO - Template modificato: True
2025-05-19 10:46:36,749 - INFO - Template aggiornato: {'nazione_destinazione': 'Italia', 'regione_citta_destinazione': 'Venezia', 'departure_date': '2023-05-10', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'budget_viaggio': 1000, 'trip_duration': 10}
2025-05-19 10:46:39,246 - INFO - Stato aggiornato per il template intro
2025-05-19 10:46:39,246 - INFO - Stato aggiornato: {"intro": {"nazione_destinazione": "italia", "regione_citta_destinazione": "venezia", "tipo_partecipanti": "adulti", "mood_vacanza": ["mountagna", "avventurosa"], "trip_duration": 10, "numero_partecipanti": 9, "budget_viaggio": 1000, "departure_date": "2026-05-10"}}
2025-05-19 10:46:39,247 - INFO - Stato aggiornato per il dato {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'trip_duration': 10, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'departure_date': '2026-05-10'}
2025-05-19 10:46:39,247 - INFO - Template intro completato
2025-05-19 10:46:39,247 - INFO - Template intro completato, chiamata a evaluate_preferences
2025-05-19 10:46:39,253 - INFO - Inizio valutazione preferenze
2025-05-19 10:46:39,569 - ERROR - Errore in evaluate_preferences: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 41, in evaluate_preferences
    response.raise_for_status()  # Solleva un'eccezione per codici di errore HTTP
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 263, in evaluate_preferences
    active_templates = await DroolsService.evaluate_preferences(preference_json)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 44, in evaluate_preferences
    raise Exception(f"Errore nella comunicazione con il servizio Drools: {str(e)}")
Exception: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate
2025-05-19 10:46:39,576 - ERROR - Errore in extract_simple: 500: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 41, in evaluate_preferences
    response.raise_for_status()  # Solleva un'eccezione per codici di errore HTTP
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 263, in evaluate_preferences
    active_templates = await DroolsService.evaluate_preferences(preference_json)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 44, in evaluate_preferences
    raise Exception(f"Errore nella comunicazione con il servizio Drools: {str(e)}")
Exception: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 172, in extract_simple
    await evaluate_preferences(preference_request)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 287, in evaluate_preferences
    raise HTTPException(status_code=500, detail=str(e))
fastapi.exceptions.HTTPException: 500: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate
2025-05-19 10:53:53,775 - INFO - Ricevuta richiesta extract_simple con testo: come città che voglio visitare, vorrei visitare Venezia
2025-05-19 10:53:53,775 - INFO - Template attivo: intro
2025-05-19 10:53:54,166 - INFO - vision_select_layer: -1
2025-05-19 10:53:54,167 - INFO - ps_version: v2
2025-05-19 10:53:54,168 - INFO - min_dynamic_patch: 1
2025-05-19 10:53:54,169 - INFO - max_dynamic_patch: 12
2025-05-19 10:53:55,524 - INFO - num_image_token: 256
2025-05-19 10:53:55,525 - INFO - ps_version: v2
2025-05-19 10:54:39,657 - INFO - Template modificato: False
2025-05-19 10:54:39,659 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'trip_duration': 10, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'departure_date': '2026-05-10'}
2025-05-19 10:54:41,350 - INFO - Template intro completato
2025-05-19 10:54:41,350 - INFO - Template intro completato, chiamata a evaluate_preferences
2025-05-19 10:54:41,363 - INFO - Inizio valutazione preferenze
2025-05-19 10:54:41,967 - ERROR - Errore in evaluate_preferences: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 41, in evaluate_preferences
    response.raise_for_status()  # Solleva un'eccezione per codici di errore HTTP
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 263, in evaluate_preferences
    active_templates = await DroolsService.evaluate_preferences(preference_json)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 44, in evaluate_preferences
    raise Exception(f"Errore nella comunicazione con il servizio Drools: {str(e)}")
Exception: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate
2025-05-19 10:54:41,970 - ERROR - Errore in extract_simple: 500: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 41, in evaluate_preferences
    response.raise_for_status()  # Solleva un'eccezione per codici di errore HTTP
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 263, in evaluate_preferences
    active_templates = await DroolsService.evaluate_preferences(preference_json)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 44, in evaluate_preferences
    raise Exception(f"Errore nella comunicazione con il servizio Drools: {str(e)}")
Exception: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 172, in extract_simple
    await evaluate_preferences(preference_request)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 287, in evaluate_preferences
    raise HTTPException(status_code=500, detail=str(e))
fastapi.exceptions.HTTPException: 500: Errore nella comunicazione con il servizio Drools: 500 Server Error:  for url: http://localhost:8080/api/preferences/evaluate
2025-05-19 10:56:20,386 - INFO - Ricevuta richiesta extract_simple con testo: come città che voglio visitare, vorrei visitare Venezia
2025-05-19 10:56:20,386 - INFO - Template attivo: intro
2025-05-19 10:56:20,770 - INFO - vision_select_layer: -1
2025-05-19 10:56:20,771 - INFO - ps_version: v2
2025-05-19 10:56:20,771 - INFO - min_dynamic_patch: 1
2025-05-19 10:56:20,772 - INFO - max_dynamic_patch: 12
2025-05-19 10:56:21,212 - INFO - num_image_token: 256
2025-05-19 10:56:21,212 - INFO - ps_version: v2
2025-05-19 10:57:05,825 - INFO - Template modificato: False
2025-05-19 10:57:05,827 - INFO - Template aggiornato: {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'trip_duration': 10, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'departure_date': '2026-05-10'}
2025-05-19 10:57:07,375 - INFO - Template intro completato
2025-05-19 10:57:07,376 - INFO - Template intro completato, chiamata a evaluate_preferences
2025-05-19 10:57:07,383 - INFO - Inizio valutazione preferenze
2025-05-19 10:57:08,818 - INFO - Template attivi ottenuti da Drools: ['alloggi', 'noleggi']
2025-05-19 10:57:08,819 - INFO - Nuova sequenza template: ['intro', 'contatti', 'alloggi', 'noleggi']
2025-05-19 10:57:08,821 - INFO - Frase guida inviata ad Ollama: Tutti i campi sono stati compilati.
2025-05-19 10:57:08,821 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "trip_duration": 10,
  "numero_partecipanti": 9,
  "budget_viaggio": 1000,
  "departure_date": "2026-05-10"
}
2025-05-19 10:57:30,198 - INFO - Prossimo template: contatti
2025-05-19 11:08:57,268 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare Italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone, vorrei partire il 10 maggio, staremo in vacanza per 10 giorni, ho un budget di 1000 euro
2025-05-19 11:08:57,269 - INFO - Template attivo: intro
2025-05-19 11:08:57,626 - INFO - vision_select_layer: -1
2025-05-19 11:08:57,627 - INFO - ps_version: v2
2025-05-19 11:08:57,627 - INFO - min_dynamic_patch: 1
2025-05-19 11:08:57,628 - INFO - max_dynamic_patch: 12
2025-05-19 11:08:58,767 - INFO - num_image_token: 256
2025-05-19 11:08:58,767 - INFO - ps_version: v2
2025-05-19 11:09:54,306 - INFO - Template modificato: True
2025-05-19 11:09:54,307 - INFO - Template aggiornato: {'nazione_destinazione': 'Italia', 'regione_citta_destinazione': 'Venezia', 'departure_date': '2023-05-10', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'budget_viaggio': 1000, 'trip_duration': 10}
2025-05-19 11:09:54,310 - ERROR - Errore in extract_simple: local variable 'model_path' referenced before assignment
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 145, in extract_simple
    template_aggiornato, warnings, errors = intro_template.verifica_template(template_aggiornato)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\librerie\intro_lib.py", line 421, in verifica_template
    model_path = model_path or str(default_path)
UnboundLocalError: local variable 'model_path' referenced before assignment
2025-05-19 11:25:30,664 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare Italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone, vorrei partire il 10 maggio, staremo in vacanza per 10 giorni, ho un budget di 1000 euro
2025-05-19 11:25:30,664 - INFO - Template attivo: intro
2025-05-19 11:25:31,011 - INFO - vision_select_layer: -1
2025-05-19 11:25:31,012 - INFO - ps_version: v2
2025-05-19 11:25:31,012 - INFO - min_dynamic_patch: 1
2025-05-19 11:25:31,013 - INFO - max_dynamic_patch: 12
2025-05-19 11:25:32,421 - INFO - num_image_token: 256
2025-05-19 11:25:32,422 - INFO - ps_version: v2
2025-05-19 11:26:30,171 - INFO - Template modificato: True
2025-05-19 11:26:30,173 - INFO - Template aggiornato: {'nazione_destinazione': 'Italia', 'regione_citta_destinazione': 'Venezia', 'departure_date': '2023-05-10', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'budget_viaggio': 1000, 'trip_duration': 10}
2025-05-19 11:26:30,176 - ERROR - Errore in extract_simple: local variable 'model_path' referenced before assignment
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 145, in extract_simple
    template_aggiornato, warnings, errors = intro_template.verifica_template(template_aggiornato)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\librerie\intro_lib.py", line 422, in verifica_template
    model_path = model_path or str(default_path)
UnboundLocalError: local variable 'model_path' referenced before assignment
2025-05-19 11:27:28,423 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare Italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone, vorrei partire il 10 maggio, staremo in vacanza per 10 giorni, ho un budget di 1000 euro
2025-05-19 11:27:28,424 - INFO - Template attivo: intro
2025-05-19 11:27:28,777 - INFO - vision_select_layer: -1
2025-05-19 11:27:28,778 - INFO - ps_version: v2
2025-05-19 11:27:28,778 - INFO - min_dynamic_patch: 1
2025-05-19 11:27:28,778 - INFO - max_dynamic_patch: 12
2025-05-19 11:27:30,045 - INFO - num_image_token: 256
2025-05-19 11:27:30,045 - INFO - ps_version: v2
2025-05-19 11:28:23,733 - INFO - Template modificato: True
2025-05-19 11:28:23,734 - INFO - Template aggiornato: {'nazione_destinazione': 'Italia', 'regione_citta_destinazione': 'Venezia', 'departure_date': '2023-05-10', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'budget_viaggio': 1000, 'trip_duration': 10}
2025-05-19 11:28:26,118 - WARNING - Errori nel template intro: ['Errore durante la verifica della nazione: (422, \'{"detail":[{"loc":["body","model"],"msg":"value is not a valid enumeration member; permitted: \\\'all-MiniLM-L6-v2\\\', \\\'nomic-embed-text-v1\\\', \\\'nomic-embed-text-v1.5\\\', \\\'nomic-embed-code\\\', \\\'gte-multilingual-base\\\'","type":"type_error.enum","ctx":{"enum_values":["all-MiniLM-L6-v2","nomic-embed-text-v1","nomic-embed-text-v1.5","nomic-embed-code","gte-multilingual-base"]}}]}\')', 'Errore durante la verifica della regione o città: (422, \'{"detail":[{"loc":["body","model"],"msg":"value is not a valid enumeration member; permitted: \\\'all-MiniLM-L6-v2\\\', \\\'nomic-embed-text-v1\\\', \\\'nomic-embed-text-v1.5\\\', \\\'nomic-embed-code\\\', \\\'gte-multilingual-base\\\'","type":"type_error.enum","ctx":{"enum_values":["all-MiniLM-L6-v2","nomic-embed-text-v1","nomic-embed-text-v1.5","nomic-embed-code","gte-multilingual-base"]}}]}\')']
2025-05-19 11:28:26,120 - INFO - Stato aggiornato per il template intro
2025-05-19 11:28:26,121 - INFO - Stato aggiornato: {"intro": {"nazione_destinazione": "italia", "regione_citta_destinazione": "venezia", "tipo_partecipanti": "adulti", "mood_vacanza": ["mountagna", "avventurosa"], "trip_duration": 10, "numero_partecipanti": 9, "budget_viaggio": 1000, "departure_date": "2026-05-10"}}
2025-05-19 11:28:26,121 - INFO - Stato aggiornato per il dato {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'trip_duration': 10, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'departure_date': '2026-05-10'}
2025-05-19 11:28:26,122 - INFO - Template intro completato
2025-05-19 11:28:26,123 - INFO - Template intro completato, chiamata a evaluate_preferences
2025-05-19 11:28:26,131 - INFO - Inizio valutazione preferenze
2025-05-19 11:28:30,240 - ERROR - Errore in evaluate_preferences: Errore nella comunicazione con il servizio Drools: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000237D3AA1DE0>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 493, in _make_request
    conn.request(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 445, in request
    self.endheaders()
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 1278, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 1038, in _send_output
    self.send(msg)
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 976, in send
    self.connect()
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 276, in connect
    self.sock = self._new_conn()
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 213, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x00000237D3AA1DE0>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000237D3AA1DE0>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 40, in evaluate_preferences
    response = requests.post(DROOLS_SERVICE_URL, json=camel_case_preferences)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\adapters.py", line 700, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000237D3AA1DE0>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 263, in evaluate_preferences
    active_templates = await DroolsService.evaluate_preferences(preference_json)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 44, in evaluate_preferences
    raise Exception(f"Errore nella comunicazione con il servizio Drools: {str(e)}")
Exception: Errore nella comunicazione con il servizio Drools: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000237D3AA1DE0>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))
2025-05-19 11:28:30,333 - ERROR - Errore in extract_simple: 500: Errore nella comunicazione con il servizio Drools: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000237D3AA1DE0>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 493, in _make_request
    conn.request(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 445, in request
    self.endheaders()
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 1278, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 1038, in _send_output
    self.send(msg)
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 976, in send
    self.connect()
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 276, in connect
    self.sock = self._new_conn()
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 213, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x00000237D3AA1DE0>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000237D3AA1DE0>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 40, in evaluate_preferences
    response = requests.post(DROOLS_SERVICE_URL, json=camel_case_preferences)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\adapters.py", line 700, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000237D3AA1DE0>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 263, in evaluate_preferences
    active_templates = await DroolsService.evaluate_preferences(preference_json)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 44, in evaluate_preferences
    raise Exception(f"Errore nella comunicazione con il servizio Drools: {str(e)}")
Exception: Errore nella comunicazione con il servizio Drools: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000237D3AA1DE0>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 172, in extract_simple
    await evaluate_preferences(preference_request)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 287, in evaluate_preferences
    raise HTTPException(status_code=500, detail=str(e))
fastapi.exceptions.HTTPException: 500: Errore nella comunicazione con il servizio Drools: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x00000237D3AA1DE0>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))
2025-05-19 11:31:17,234 - INFO - Use pytorch device_name: cpu
2025-05-19 11:31:17,235 - INFO - Load pretrained SentenceTransformer: C:\Users\aless\Desktop\TravelToWonderland\nomic-embed-text-v1.5
2025-05-19 11:31:50,665 - INFO - Use pytorch device_name: cpu
2025-05-19 11:31:50,666 - INFO - Load pretrained SentenceTransformer: C:\Users\aless\Desktop\TravelToWonderland\nomic-embed-text-v1.5
2025-05-19 11:32:21,700 - INFO - Use pytorch device_name: cpu
2025-05-19 11:32:21,701 - INFO - Load pretrained SentenceTransformer: C:\Users\aless\Desktop\TravelToWonderland\nomic-embed-text-v1.5
2025-05-19 11:32:26,159 - WARNING - <All keys matched successfully>
2025-05-19 11:32:44,338 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare Italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone, vorrei partire il 10 maggio, staremo in vacanza per 10 giorni, ho un budget di 1000 euro
2025-05-19 11:32:44,339 - INFO - Template attivo: intro
2025-05-19 11:32:44,681 - INFO - vision_select_layer: -1
2025-05-19 11:32:44,681 - INFO - ps_version: v2
2025-05-19 11:32:44,681 - INFO - min_dynamic_patch: 1
2025-05-19 11:32:44,682 - INFO - max_dynamic_patch: 12
2025-05-19 11:32:47,023 - INFO - num_image_token: 256
2025-05-19 11:32:47,023 - INFO - ps_version: v2
2025-05-19 11:33:44,194 - INFO - Template modificato: True
2025-05-19 11:33:44,196 - INFO - Template aggiornato: {'nazione_destinazione': 'Italia', 'regione_citta_destinazione': 'Venezia', 'departure_date': '2023-05-10', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'budget_viaggio': 1000, 'trip_duration': 10}
2025-05-19 11:33:44,964 - WARNING - Errori nel template intro: ["Errore durante la verifica della nazione: can't adapt type 'numpy.ndarray'", "Errore durante la verifica della regione o città: can't adapt type 'numpy.ndarray'"]
2025-05-19 11:33:44,966 - INFO - Stato aggiornato per il template intro
2025-05-19 11:33:44,966 - INFO - Stato aggiornato: {"intro": {"nazione_destinazione": "italia", "regione_citta_destinazione": "venezia", "tipo_partecipanti": "adulti", "mood_vacanza": ["mountagna", "avventurosa"], "trip_duration": 10, "numero_partecipanti": 9, "budget_viaggio": 1000, "departure_date": "2026-05-10"}}
2025-05-19 11:33:44,966 - INFO - Stato aggiornato per il dato {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'trip_duration': 10, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'departure_date': '2026-05-10'}
2025-05-19 11:33:44,966 - INFO - Template intro completato
2025-05-19 11:33:44,966 - INFO - Template intro completato, chiamata a evaluate_preferences
2025-05-19 11:33:44,971 - INFO - Inizio valutazione preferenze
2025-05-19 11:33:49,095 - ERROR - Errore in evaluate_preferences: Errore nella comunicazione con il servizio Drools: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000025082387490>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 493, in _make_request
    conn.request(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 445, in request
    self.endheaders()
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 1278, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 1038, in _send_output
    self.send(msg)
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 976, in send
    self.connect()
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 276, in connect
    self.sock = self._new_conn()
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 213, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x0000025082387490>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000025082387490>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 40, in evaluate_preferences
    response = requests.post(DROOLS_SERVICE_URL, json=camel_case_preferences)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\adapters.py", line 700, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000025082387490>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 263, in evaluate_preferences
    active_templates = await DroolsService.evaluate_preferences(preference_json)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 44, in evaluate_preferences
    raise Exception(f"Errore nella comunicazione con il servizio Drools: {str(e)}")
Exception: Errore nella comunicazione con il servizio Drools: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000025082387490>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))
2025-05-19 11:33:49,107 - ERROR - Errore in extract_simple: 500: Errore nella comunicazione con il servizio Drools: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000025082387490>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 493, in _make_request
    conn.request(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 445, in request
    self.endheaders()
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 1278, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 1038, in _send_output
    self.send(msg)
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 976, in send
    self.connect()
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 276, in connect
    self.sock = self._new_conn()
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 213, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x0000025082387490>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000025082387490>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 40, in evaluate_preferences
    response = requests.post(DROOLS_SERVICE_URL, json=camel_case_preferences)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\adapters.py", line 700, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000025082387490>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 263, in evaluate_preferences
    active_templates = await DroolsService.evaluate_preferences(preference_json)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 44, in evaluate_preferences
    raise Exception(f"Errore nella comunicazione con il servizio Drools: {str(e)}")
Exception: Errore nella comunicazione con il servizio Drools: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000025082387490>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 172, in extract_simple
    await evaluate_preferences(preference_request)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 287, in evaluate_preferences
    raise HTTPException(status_code=500, detail=str(e))
fastapi.exceptions.HTTPException: 500: Errore nella comunicazione con il servizio Drools: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x0000025082387490>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))
2025-05-19 11:35:42,019 - INFO - Use pytorch device_name: cpu
2025-05-19 11:35:42,020 - INFO - Load pretrained SentenceTransformer: C:\Users\aless\Desktop\TravelToWonderland\nomic-embed-text-v1.5
2025-05-19 11:35:45,924 - WARNING - <All keys matched successfully>
2025-05-19 11:35:52,897 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare Italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone, vorrei partire il 10 maggio, staremo in vacanza per 10 giorni, ho un budget di 1000 euro
2025-05-19 11:35:52,898 - INFO - Template attivo: intro
2025-05-19 11:35:53,292 - INFO - vision_select_layer: -1
2025-05-19 11:35:53,293 - INFO - ps_version: v2
2025-05-19 11:35:53,293 - INFO - min_dynamic_patch: 1
2025-05-19 11:35:53,293 - INFO - max_dynamic_patch: 12
2025-05-19 11:35:53,723 - INFO - num_image_token: 256
2025-05-19 11:35:53,724 - INFO - ps_version: v2
2025-05-19 11:36:45,835 - INFO - Template modificato: True
2025-05-19 11:36:45,836 - INFO - Template aggiornato: {'nazione_destinazione': 'Italia', 'regione_citta_destinazione': 'Venezia', 'departure_date': '2023-05-10', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'budget_viaggio': 1000, 'trip_duration': 10}
2025-05-19 11:36:46,396 - INFO - Stato aggiornato per il template intro
2025-05-19 11:36:46,396 - INFO - Stato aggiornato: {"intro": {"nazione_destinazione": "italia", "regione_citta_destinazione": "venezia", "tipo_partecipanti": "adulti", "mood_vacanza": ["mountagna", "avventurosa"], "trip_duration": 10, "numero_partecipanti": 9, "budget_viaggio": 1000, "departure_date": "2026-05-10"}}
2025-05-19 11:36:46,397 - INFO - Stato aggiornato per il dato {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'trip_duration': 10, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'departure_date': '2026-05-10'}
2025-05-19 11:36:46,397 - INFO - Template intro completato
2025-05-19 11:36:46,398 - INFO - Template intro completato, chiamata a evaluate_preferences
2025-05-19 11:36:46,403 - INFO - Inizio valutazione preferenze
2025-05-19 11:36:50,494 - ERROR - Errore in evaluate_preferences: Errore nella comunicazione con il servizio Drools: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000002831E9BFE80>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 493, in _make_request
    conn.request(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 445, in request
    self.endheaders()
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 1278, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 1038, in _send_output
    self.send(msg)
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 976, in send
    self.connect()
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 276, in connect
    self.sock = self._new_conn()
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 213, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x000002831E9BFE80>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000002831E9BFE80>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 40, in evaluate_preferences
    response = requests.post(DROOLS_SERVICE_URL, json=camel_case_preferences)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\adapters.py", line 700, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000002831E9BFE80>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 263, in evaluate_preferences
    active_templates = await DroolsService.evaluate_preferences(preference_json)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 44, in evaluate_preferences
    raise Exception(f"Errore nella comunicazione con il servizio Drools: {str(e)}")
Exception: Errore nella comunicazione con il servizio Drools: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000002831E9BFE80>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))
2025-05-19 11:36:50,511 - ERROR - Errore in extract_simple: 500: Errore nella comunicazione con il servizio Drools: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000002831E9BFE80>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))
Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 198, in _new_conn
    sock = connection.create_connection(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\connection.py", line 85, in create_connection
    raise err
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\connection.py", line 73, in create_connection
    sock.connect(sa)
ConnectionRefusedError: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 787, in urlopen
    response = self._make_request(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 493, in _make_request
    conn.request(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 445, in request
    self.endheaders()
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 1278, in endheaders
    self._send_output(message_body, encode_chunked=encode_chunked)
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 1038, in _send_output
    self.send(msg)
  File "C:\Users\aless\AppData\Local\Programs\Python\Python310\lib\http\client.py", line 976, in send
    self.connect()
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 276, in connect
    self.sock = self._new_conn()
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connection.py", line 213, in _new_conn
    raise NewConnectionError(
urllib3.exceptions.NewConnectionError: <urllib3.connection.HTTPConnection object at 0x000002831E9BFE80>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\adapters.py", line 667, in send
    resp = conn.urlopen(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\connectionpool.py", line 841, in urlopen
    retries = retries.increment(
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\urllib3\util\retry.py", line 519, in increment
    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]
urllib3.exceptions.MaxRetryError: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000002831E9BFE80>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 40, in evaluate_preferences
    response = requests.post(DROOLS_SERVICE_URL, json=camel_case_preferences)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\api.py", line 115, in post
    return request("post", url, data=data, json=json, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\api.py", line 59, in request
    return session.request(method=method, url=url, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\sessions.py", line 589, in request
    resp = self.send(prep, **send_kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\sessions.py", line 703, in send
    r = adapter.send(request, **kwargs)
  File "C:\Users\aless\Desktop\TravelToWonderland\venv\lib\site-packages\requests\adapters.py", line 700, in send
    raise ConnectionError(e, request=request)
requests.exceptions.ConnectionError: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000002831E9BFE80>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 263, in evaluate_preferences
    active_templates = await DroolsService.evaluate_preferences(preference_json)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\services\drools_service.py", line 44, in evaluate_preferences
    raise Exception(f"Errore nella comunicazione con il servizio Drools: {str(e)}")
Exception: Errore nella comunicazione con il servizio Drools: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000002831E9BFE80>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 172, in extract_simple
    await evaluate_preferences(preference_request)
  File "C:\Users\aless\Desktop\TravelToWonderland\backend\main.py", line 287, in evaluate_preferences
    raise HTTPException(status_code=500, detail=str(e))
fastapi.exceptions.HTTPException: 500: Errore nella comunicazione con il servizio Drools: HTTPConnectionPool(host='localhost', port=8080): Max retries exceeded with url: /api/preferences/evaluate (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x000002831E9BFE80>: Failed to establish a new connection: [WinError 10061] Impossibile stabilire la connessione. Rifiuto persistente del computer di destinazione'))
2025-05-19 12:11:48,393 - INFO - Use pytorch device_name: cpu
2025-05-19 12:11:48,394 - INFO - Load pretrained SentenceTransformer: C:\Users\aless\Desktop\RouteToWonderland\nomic-embed-text-v1.5
2025-05-19 12:11:53,505 - WARNING - <All keys matched successfully>
2025-05-19 12:20:06,598 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare Italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone, vorrei partire il 10 maggio, staremo in vacanza per 10 giorni, ho un budget di 1000 euro
2025-05-19 12:20:06,598 - INFO - Template attivo: intro
2025-05-19 12:20:07,016 - INFO - vision_select_layer: -1
2025-05-19 12:20:07,016 - INFO - ps_version: v2
2025-05-19 12:20:07,017 - INFO - min_dynamic_patch: 1
2025-05-19 12:20:07,017 - INFO - max_dynamic_patch: 12
2025-05-19 12:20:07,806 - INFO - num_image_token: 256
2025-05-19 12:20:07,806 - INFO - ps_version: v2
2025-05-19 12:21:32,642 - INFO - Template modificato: True
2025-05-19 12:21:32,843 - INFO - Template aggiornato: {'nazione_destinazione': 'Italia', 'regione_citta_destinazione': 'Venezia', 'departure_date': '2023-05-10', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'budget_viaggio': 1000, 'trip_duration': 10}
2025-05-19 12:21:35,726 - WARNING - Errori nel template intro: ['Errore durante la verifica della nazione: connection to server at "localhost" (::1), port 5432 failed: FATALE:  il database "travelToWonderland" non esiste\n', 'Errore durante la verifica della regione o città: connection to server at "localhost" (::1), port 5432 failed: FATALE:  il database "travelToWonderland" non esiste\n']
2025-05-19 12:21:35,728 - INFO - Stato aggiornato per il template intro
2025-05-19 12:21:35,728 - INFO - Stato aggiornato: {"intro": {"nazione_destinazione": "italia", "regione_citta_destinazione": "venezia", "tipo_partecipanti": "adulti", "mood_vacanza": ["mountagna", "avventurosa"], "trip_duration": 10, "numero_partecipanti": 9, "budget_viaggio": 1000, "departure_date": "2026-05-10"}}
2025-05-19 12:21:35,729 - INFO - Stato aggiornato per il dato {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'trip_duration': 10, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'departure_date': '2026-05-10'}
2025-05-19 12:21:35,729 - INFO - Template intro completato
2025-05-19 12:21:35,729 - INFO - Template intro completato, chiamata a evaluate_preferences
2025-05-19 12:21:35,891 - INFO - Inizio valutazione preferenze
2025-05-19 12:21:37,998 - INFO - Template attivi ottenuti da Drools: ['alloggi', 'noleggi']
2025-05-19 12:21:37,998 - INFO - Nuova sequenza template: ['intro', 'contatti', 'alloggi', 'noleggi']
2025-05-19 12:21:38,000 - INFO - Frase guida inviata ad Ollama: Tutti i campi sono stati compilati.
2025-05-19 12:21:38,000 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "trip_duration": 10,
  "numero_partecipanti": 9,
  "budget_viaggio": 1000,
  "departure_date": "2026-05-10"
}
2025-05-19 12:21:56,249 - INFO - Prossimo template: contatti
2025-05-19 12:23:09,412 - INFO - Use pytorch device_name: cpu
2025-05-19 12:23:09,413 - INFO - Load pretrained SentenceTransformer: C:\Users\aless\Desktop\RouteToWonderland\nomic-embed-text-v1.5
2025-05-19 12:23:13,290 - WARNING - <All keys matched successfully>
2025-05-19 12:23:21,794 - INFO - Use pytorch device_name: cpu
2025-05-19 12:23:21,795 - INFO - Load pretrained SentenceTransformer: C:\Users\aless\Desktop\RouteToWonderland\nomic-embed-text-v1.5
2025-05-19 12:23:24,296 - WARNING - <All keys matched successfully>
2025-05-19 12:23:37,291 - INFO - Ricevuta richiesta extract_simple con testo: Vorrei visitare Italia più precisamente Veneziaaaa, siamo tutti adulti e vorremmo fare una vacanza in montagna ed un pò avventurosa, siamo in 9 persone, vorrei partire il 10 maggio, staremo in vacanza per 10 giorni, ho un budget di 1000 euro
2025-05-19 12:23:37,291 - INFO - Template attivo: intro
2025-05-19 12:23:37,654 - INFO - vision_select_layer: -1
2025-05-19 12:23:37,655 - INFO - ps_version: v2
2025-05-19 12:23:37,655 - INFO - min_dynamic_patch: 1
2025-05-19 12:23:37,655 - INFO - max_dynamic_patch: 12
2025-05-19 12:23:38,109 - INFO - num_image_token: 256
2025-05-19 12:23:38,109 - INFO - ps_version: v2
2025-05-19 12:24:50,188 - INFO - Template modificato: True
2025-05-19 12:24:50,192 - INFO - Template aggiornato: {'nazione_destinazione': 'Italia', 'regione_citta_destinazione': 'Venezia', 'departure_date': '2023-05-10', 'numero_partecipanti': 9, 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'budget_viaggio': 1000, 'trip_duration': 10}
2025-05-19 12:24:52,813 - INFO - Stato aggiornato per il template intro
2025-05-19 12:24:52,813 - INFO - Stato aggiornato: {"intro": {"nazione_destinazione": "italia", "regione_citta_destinazione": "venezia", "tipo_partecipanti": "adulti", "mood_vacanza": ["mountagna", "avventurosa"], "trip_duration": 10, "numero_partecipanti": 9, "budget_viaggio": 1000, "departure_date": "2026-05-10"}}
2025-05-19 12:24:52,814 - INFO - Stato aggiornato per il dato {'nazione_destinazione': 'italia', 'regione_citta_destinazione': 'venezia', 'tipo_partecipanti': 'adulti', 'mood_vacanza': ['mountagna', 'avventurosa'], 'trip_duration': 10, 'numero_partecipanti': 9, 'budget_viaggio': 1000, 'departure_date': '2026-05-10'}
2025-05-19 12:24:52,814 - INFO - Template intro completato
2025-05-19 12:24:52,814 - INFO - Template intro completato, chiamata a evaluate_preferences
2025-05-19 12:24:52,821 - INFO - Inizio valutazione preferenze
2025-05-19 12:24:53,117 - INFO - Template attivi ottenuti da Drools: ['alloggi', 'noleggi']
2025-05-19 12:24:53,117 - INFO - Nuova sequenza template: ['intro', 'contatti', 'alloggi', 'noleggi']
2025-05-19 12:24:53,118 - INFO - Frase guida inviata ad Ollama: Tutti i campi sono stati compilati.
2025-05-19 12:24:53,119 - INFO - Template aggiornato: {
  "nazione_destinazione": "italia",
  "regione_citta_destinazione": "venezia",
  "tipo_partecipanti": "adulti",
  "mood_vacanza": [
    "mountagna",
    "avventurosa"
  ],
  "trip_duration": 10,
  "numero_partecipanti": 9,
  "budget_viaggio": 1000,
  "departure_date": "2026-05-10"
}
2025-05-19 12:25:15,922 - INFO - Prossimo template: contatti
